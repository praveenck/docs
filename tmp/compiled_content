{:	data{/I"/:ET{:default{	:	lastI"b9<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="imagetoolbar" content="false">
<meta name="MSSmartTagsPreventParsing" content="true">
<title></title>
<link href="css/reset.css" rel="stylesheet" type="text/css">
<link href="css/960.css" rel="stylesheet" type="text/css">
<link href="css/uv_active4d.css" rel="stylesheet" type="text/css">
<link href="shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
<link href="shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css">
<script src="shared/js/jquery.js" type="text/javascript"></script><script src="shared/js/documentation.js" type="text/javascript"></script>
</head>
<body class="api">
    <div id="header-wrapper">
      <div id="header">
        <div>
          <a class="logo" href="./"><img src="images/logo_developer.png" width="161" height="47" alt="GitHub:Developer"></a>
          <ul class="nav">
<li><a href="./">Home</a></li>
            <li><a href="vmimage">VM Image</a></li>
            <li><a href="https://getsatisfaction.com/magento-2-prerelease">Feedback</a></li>
          </ul>
</div>
      </div>
<!-- #header -->
    </div>
<!-- #header-wrapper -->

    <div id="wrapper">
      <div class="content">
    <h1 id="magento-2-extension-model-proposal-alpha-1">Magento 2 Extension Model Proposal: Alpha 1</h1>

<p>To support our overall goal of better modularity in Magento 2, weâ€™re introducing
support for a few new ideas in this Alpha-1 release of Extension Model
Improvements. Â A major theme of these ideas is the separation of
responsibilities, especially between business logic on one side and presentation
logic and user experience on the other.</p>

<p><img src="images/archExtensibility.png" alt=""></p>

<p>The diagram above attempts to describe the ideas behind these changes visually.
Business logic is confined to the service layer and encapsulated in service
classes.</p>

<p>You can find the source code for the proposed changes in the recent github push
<a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/view/frontend/layout.xml">here</a>. There is also a VirtualBox image that contains the installation of a
recent Magento-2 code base <a href="http://praveenck.github.io/docs/option-list/">here</a>. Instructions for using the virtualbox
image are <a href="http://praveenck.github.io/docs/vmimage/">here</a>.</p>

<h2 id="services">Services</h2>

<p>Services provide a single, common entry point for all interaction among
different UIs, including blocks, controllers and web services. A service can
even serve as an interface for business logic for other modules.</p>

<p>Services have well defined interfaces described in a service IDL. Service IDLs
document the public methods available to templates, blocks, controllers and web
services. For each method, the input and output data types are defined in XSDs.</p>

<h2 id="webhooks-and-callbacks">Webhooks and Callbacks</h2>

<p>To improve remote integrations with Magento, weâ€™re enabling the automatic
exposure of these services as web services to external clients. This Alpha-1
release also introduces support for real-time integrations with remote systems
using webhooks and callbacks.</p>

<p>Webhooks provide Event Observer-like behavior over HTTP. They allow you to be
notified when certain events occur in Magento and let you get real-time data
from the system. Â Callbacks also support communication from your Magento
installation out to a remote system, but callbacks trigger synchronously and use
the response from the remote integration in the rest of the user request
processing. Â As an example, in this release weâ€™re supporting the ability to
define remote shipping carriers where the shipping rates are retrieved over an
HTTP call.</p>

<h2 id="better-templating">Better Templating</h2>

<p>On the presentation tier, weâ€™re introducing support for Twig templating. Â Theme
development has always been a big part of Magento store customization, but
templates written in PHP meant that business logic occasionally was written into
the .phtml files. This meant that business logic could be lost, and had to be
duplicated from theme to theme. Â With a templating language like Twig, which
uses a restricted syntax, it is easier to ensure that your template files will
only be concerned with the logic needed to render your data.</p>

<p>Because templates need data to render and services are designed to provide a
well-managed, consistent view of the data a module can provide, weâ€™ve introduced
a syntax for binding templates to a service call directly from the layout file.</p>

<h2 id="extension-configuration-improvement">Extension Configuration Improvement</h2>

<p>Thereâ€™s another small improvement that weâ€™ve made to system configuration that
we hope will make your life a little easier. Â For most of the configuration
fields you define, you can describe everything you need in XMLâ€“except for the
values of a select box. Â Weâ€™ve introduced a syntax with this release that will
allow you to describe static select options inline, and dynamic options can be
extracted from the result of a service call.</p>

<p>These concepts have been introduced in isolated parts of the Magento application
so far in the hopes that you will comment on their value and help direct and
refine how they work. This is only the first set of ideas weâ€™re sharingâ€“there
are more to come, all aimed at improving compatibility among Magento extensions,
and the modularity and upgradability of Magento.</p>

<h2 id="new-approach-for-creating-extensions-and-customizations">New Approach for Creating Extensions and Customizations</h2>

<p>Hereâ€™s an outline of how to create an extension that includes some business
logic and associated presentation logic:</p>

<ul>
<li>
    <p>Create a service that encapsulates the extensionâ€™s business logic. This
involves defining the service interface using the service IDL, listing the
methods whose output will be needed in the presentation tier, and defining
the method input and output using XSD schemas.</p>
  </li>
  <li>
    <p>Create a template that renders your extensionâ€™s visual appearance.</p>
  </li>
  <li>
    <p>Associate the templateâ€™s data to one or more service calls via configuration
in layout.xml.</p>
  </li>
  <li>
    <p>Optionally, configure static and dynamic options lists for your extension.</p>
  </li>
</ul>
<h3 id="create-the-service-that-serves-data-to-your-extension">1. Create the Service That Serves Data to Your Extension</h3>

<p>You can start by looking at an existing service, such as the Product service.
Many extensions can just use an existing service. Extensions that modify only
the presentation logic or the look and feel can use existing services to obtain
the data to be rendered.</p>

<p>To create a service, you begin by defining the service using an IDL. The IDL
specifies the metadata for the service such as its name, version, list of
methods and input/output of methods. Learn more about service IDLs here:
<a href="http://magento.github.io/magento2-developer-docs/service-idl/">http://magento.github.io/magento2-developer-docs/service-idl/</a></p>

<p>Once you have defined your service IDL, you implement the service. A service is
implemented using a PHP class. The public methods of this class become available
for the presentation layer to access data. You can learn more about this by
reviewing the implementation of the Product service described here:
<a href="http://magento.github.io/magento2-developer-docs/service-impl/">http://magento.github.io/magento2-developer-docs/service-impl/</a></p>

<p>You can also expose your service over the web to REST and SOAP interfaces. There
is no implementation in the Alpha-1 release for this feature yet, but you can
get an idea as to how this will work here: <a href="http://magento.github.io/magento2-developer-docs/web-api/">Web Services</a></p>

<h3 id="create-the-template-for-your-extension">2. Create the Template for Your Extension</h3>

<p>To build the presentation layer functionality for your extension, you create
Twig templates. Find out how to use the new Twig templates for your extensions
here: <a href="http://magento.github.io/magento2-developer-docs/twig/">Twig Templates</a></p>

<h3 id="associate-templates-data-to-service-methods">3. Associate Templateâ€™s Data to Service Methods</h3>

<p>Once you have created a service and a template, you will need to associate the
templateâ€™s data to one or more service methods. You do this using service calls.
First, you need to declare service calls in service-calls.xml.</p>

<pre><code>
&lt;service-calls&gt;
    &lt;service-call name="selectedProductDetails" service="Mage_Catalog_Service_Product" method="item"&gt;
        &lt;arg name="productId"&gt;{{request.params.id}}&lt;/arg&gt;
    &lt;/service-call&gt;

    &lt;service-call name="selectedProductOptions" service="Mage_Catalog_Service_Product" method="getOptions"&gt;
        &lt;arg name="productId"&gt;{{request.params.id}}&lt;/arg&gt;
    &lt;/service-call&gt;


    &lt;service-call name="relatedProducts" service="Mage_Catalog_Service_Product" method="getRelatedProducts"&gt;
        &lt;arg name="productId"&gt;{{request.params.id}}&lt;/arg&gt;
    &lt;/service-call&gt;
&lt;/service-calls&gt;

</code></pre>

<p>To see a fuller example, review the Product service calls declaration here:
<a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/service-calls.xml">Product Service Calls Declaration</a></p>

<p>Once you have declared a service call in service-calls.xml, you bind it with
your extensionâ€™s template in layout.xml.</p>

<pre><code>
&lt;block type="Mage_Catalog_Block_Product_Twig" module="Mage_Catalog" name="product.info"
                   template="Mage_Catalog::product/view.twig"&gt;
	&lt;data service-call="selectedProductDetails" alias="product" /&gt;
	...
	...
&lt;/block&gt;

</code></pre>

<p>For reference, you can review the product service call invocation here: <a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/view/frontend/layout.xml">Product
Service Call Invocation</a></p>

<p>At this point, you should have a working extension that has both presentation
and business logic implemented and working together.</p>

<h3 id="configure-your-extensions-option-lists">4. Configure Your Extensionâ€™s Option Lists</h3>

<p>Your extension can now be configured. To set up configuration, you create static
and dynamic option lists by editing a system.xml file. Learn more about setting
up option lists here: <a href="http://praveenck.github.io/docs/option-list/">Extension Configuration</a></p>
      </div>

    <div id="js-sidebar" class="sidebar-shell">
      <div class="js-toggle-list sidebar-module expandable">
        <ul>
<li class="js-guides"><h3><a href="./">Overview</a></h3></li>
          <li class="js-guides"><h3><a href="twig/">Twig Templates</a></h3></li>
          <li class="js-guides"><h3><a href="service-idl/">Service IDL</a></h3></li>
          <li class="js-guides"><h3><a href="service-impl/">Service Implementation</a></h3></li>
          <li class="js-guides"><h3><a href="webhooks/">Webhooks</a></h3></li>
          <li class="js-guides"><h3><a href="web-api/">Creating Web APIs</a></h3></li>
          <li class="js-guides"><h3><a href="option-list/">Extension Configuration</a></h3></li>
        </ul>
</div> <!-- /sidebar-module -->
    </div>
<!-- /sidebar-shell -->

    </div>
<!-- #wrapper -->

    <div id="footer">
      <div class="upper_footer">
        <div class="footer_inner clearfix">

        <!--[if IE]><h4 id="blacktocat_ie">GitHub Links</h4><![endif]-->
        <h4 id="blacktocat">GitHub Links</h4>

        <ul class="footer_nav">
<h4>GitHub</h4>
          <li><a href="https://github.com/about">About</a></li>
          <li><a href="https://github.com/blog">Blog</a></li>
          <li><a href="https://github.com/features">Features</a></li>
          <li><a href="https://github.com/contact">Contact &amp; Support</a></li>
          <li><a href="https://github.com/training">Training</a></li>
          <li><a href="http://status.github.com/">Site Status</a></li>
        </ul>
<ul class="footer_nav">
<h4>Tools</h4>
          <li><a href="http://mac.github.com/">GitHub for Mac</a></li>
          <li><a href="http://mobile.github.com/">Issues for iPhone</a></li>
          <li><a href="https://gist.github.com">Gist: Code Snippets</a></li>
          <li><a href="http://enterprise.github.com/">GitHub Enterprise</a></li>
          <li><a href="http://jobs.github.com/">Job Board</a></li>
        </ul>
<ul class="footer_nav">
<h4>Extras</h4>
          <li><a href="http://shop.github.com/">GitHub Shop</a></li>
          <li><a href="http://octodex.github.com/">The Octodex</a></li>
        </ul>
<ul class="footer_nav">
<h4>Documentation</h4>
          <li><a href="http://help.github.com/">GitHub Help</a></li>
          <li><a href="http://developer.github.com/">Developer API</a></li>
          <li><a href="http://github.github.com/github-flavored-markdown/">GitHub Flavored Markdown</a></li>
          <li><a href="http://pages.github.com/">GitHub Pages</a></li>
        </ul>
</div>
<!-- /.site -->
      </div>
<!-- /.upper_footer -->

      <div class="lower_footer">
        <div class="footer_inner clearfix">
            <div id="legal">
              <!--[if IE]><a class="home_ie" href="http://github.com">Home</a><![endif]-->
              <a class="home" href="http://github.com">Home</a>

              <ul id="legal_links">
<li><a href="http://help.github.com/terms-of-service/">Terms of Service</a></li>
                <li><a href="http://help.github.com/privacy-policy/">Privacy</a></li>
                <li><a href="http://help.github.com/security/">Security</a></li>
              </ul>
<p>Â© <span id="year">year</span> GitHub Inc. All rights reserved.</p>
            </div>
<!-- /#legal or /#legal_ie-->
        </div>
<!-- /.site -->
      </div>
<!-- /.lower_footer -->
    </div>
<!-- /#footer -->
    <script type="text/javascript">
      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '4f2038e0cb25bc1b55000003');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
</body>
</html>
;T:rawI"5#Magento 2 Extension Model Proposal: Alpha 1
===========================================

To support our overall goal of better modularity in Magento 2, we're introducing
support for a few new ideas in this Alpha-1 release of Extension Model
Improvements. Â A major theme of these ideas is the separation of
responsibilities, especially between business logic on one side and presentation
logic and user experience on the other.

![](</images/archExtensibility.png>)

The diagram above attempts to describe the ideas behind these changes visually.
Business logic is confined to the service layer and encapsulated in service
classes.

You can find the source code for the proposed changes in the recent github push
[here][4]. There is also a VirtualBox image that contains the installation of a
recent Magento-2 code base [here][5]. Instructions for using the virtualbox
image are [here][6].

[4]: <https://github.com/magento/magento2>

[5]: <https://ebay.box.com/s/a2k6twcsoappu4zv5lsq>

[6]: <http://praveenck.github.io/docs/vmimage/>

Services
--------

Services provide a single, common entry point for all interaction among
different UIs, including blocks, controllers and web services. A service can
even serve as an interface for business logic for other modules.

Services have well defined interfaces described in a service IDL. Service IDLs
document the public methods available to templates, blocks, controllers and web
services. For each method, the input and output data types are defined in XSDs.

Webhooks and Callbacks
----------------------

To improve remote integrations with Magento, we're enabling the automatic
exposure of these services as web services to external clients. This Alpha-1
release also introduces support for real-time integrations with remote systems
using webhooks and callbacks.

Webhooks provide Event Observer-like behavior over HTTP. They allow you to be
notified when certain events occur in Magento and let you get real-time data
from the system. Â Callbacks also support communication from your Magento
installation out to a remote system, but callbacks trigger synchronously and use
the response from the remote integration in the rest of the user request
processing. Â As an example, in this release we're supporting the ability to
define remote shipping carriers where the shipping rates are retrieved over an
HTTP call.

Better Templating
-----------------

On the presentation tier, we're introducing support for Twig templating. Â Theme
development has always been a big part of Magento store customization, but
templates written in PHP meant that business logic occasionally was written into
the .phtml files. This meant that business logic could be lost, and had to be
duplicated from theme to theme. Â With a templating language like Twig, which
uses a restricted syntax, it is easier to ensure that your template files will
only be concerned with the logic needed to render your data.

Because templates need data to render and services are designed to provide a
well-managed, consistent view of the data a module can provide, we've introduced
a syntax for binding templates to a service call directly from the layout file.

Extension Configuration Improvement
-----------------------------------

There's another small improvement that we've made to system configuration that
we hope will make your life a little easier. Â For most of the configuration
fields you define, you can describe everything you need in XML--except for the
values of a select box. Â We've introduced a syntax with this release that will
allow you to describe static select options inline, and dynamic options can be
extracted from the result of a service call.

These concepts have been introduced in isolated parts of the Magento application
so far in the hopes that you will comment on their value and help direct and
refine how they work. This is only the first set of ideas we're sharing--there
are more to come, all aimed at improving compatibility among Magento extensions,
and the modularity and upgradability of Magento.

New Approach for Creating Extensions and Customizations
-------------------------------------------------------

Here's an outline of how to create an extension that includes some business
logic and associated presentation logic:

-   Create a service that encapsulates the extension's business logic. This
    involves defining the service interface using the service IDL, listing the
    methods whose output will be needed in the presentation tier, and defining
    the method input and output using XSD schemas.

-   Create a template that renders your extension's visual appearance.

-   Associate the template's data to one or more service calls via configuration
    in layout.xml.

-   Optionally, configure static and dynamic options lists for your extension.

### 1. Create the Service That Serves Data to Your Extension

You can start by looking at an existing service, such as the Product service.
Many extensions can just use an existing service. Extensions that modify only
the presentation logic or the look and feel can use existing services to obtain
the data to be rendered.

To create a service, you begin by defining the service using an IDL. The IDL
specifies the metadata for the service such as its name, version, list of
methods and input/output of methods. Learn more about service IDLs here:
<http://magento.github.io/magento2-developer-docs/service-idl/>

Once you have defined your service IDL, you implement the service. A service is
implemented using a PHP class. The public methods of this class become available
for the presentation layer to access data. You can learn more about this by
reviewing the implementation of the Product service described here:
<http://magento.github.io/magento2-developer-docs/service-impl/>

You can also expose your service over the web to REST and SOAP interfaces. There
is no implementation in the Alpha-1 release for this feature yet, but you can
get an idea as to how this will work here: [Web Services][1]

[1]: <http://magento.github.io/magento2-developer-docs/web-api/>

### 2. Create the Template for Your Extension

To build the presentation layer functionality for your extension, you create
Twig templates. Find out how to use the new Twig templates for your extensions
here: [Twig Templates][2]

[2]: <http://magento.github.io/magento2-developer-docs/twig/>

### 3. Associate Template's Data to Service Methods

Once you have created a service and a template, you will need to associate the
template's data to one or more service methods. You do this using service calls.
First, you need to declare service calls in service-calls.xml.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

<service-calls>
    <service-call name="selectedProductDetails" service="Mage_Catalog_Service_Product" method="item">
        <arg name="productId">{{request.params.id}}</arg>
    </service-call>

    <service-call name="selectedProductOptions" service="Mage_Catalog_Service_Product" method="getOptions">
        <arg name="productId">{{request.params.id}}</arg>
    </service-call>


    <service-call name="relatedProducts" service="Mage_Catalog_Service_Product" method="getRelatedProducts">
        <arg name="productId">{{request.params.id}}</arg>
    </service-call>
</service-calls>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To see a fuller example, review the Product service calls declaration here:
[Product Service Calls Declaration][3]

Once you have declared a service call in service-calls.xml, you bind it with
your extension's template in layout.xml.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

<block type="Mage_Catalog_Block_Product_Twig" module="Mage_Catalog" name="product.info"
                   template="Mage_Catalog::product/view.twig">
	<data service-call="selectedProductDetails" alias="product" />
	...
	...
</block>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

For reference, you can review the product service call invocation here: [Product
Service Call Invocation][4]

[3]: <https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/service-calls.xml>
[4]: <https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/view/frontend/layout.xml>

At this point, you should have a working extension that has both presentation
and business logic implemented and working together.

### 4. Configure Your Extension's Option Lists

Your extension can now be configured. To set up configuration, you create static
and dynamic option lists by editing a system.xml file. Learn more about setting
up option lists here: [Extension Configuration][5]

[5]: <http://praveenck.github.io/docs/option-list/>


;T:preI"ì$<h1 id="magento-2-extension-model-proposal-alpha-1">Magento 2 Extension Model Proposal: Alpha 1</h1>

<p>To support our overall goal of better modularity in Magento 2, weâ€™re introducing
support for a few new ideas in this Alpha-1 release of Extension Model
Improvements. Â A major theme of these ideas is the separation of
responsibilities, especially between business logic on one side and presentation
logic and user experience on the other.</p>

<p><img src="/images/archExtensibility.png" alt=""></p>

<p>The diagram above attempts to describe the ideas behind these changes visually.
Business logic is confined to the service layer and encapsulated in service
classes.</p>

<p>You can find the source code for the proposed changes in the recent github push
<a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/view/frontend/layout.xml">here</a>. There is also a VirtualBox image that contains the installation of a
recent Magento-2 code base <a href="http://praveenck.github.io/docs/option-list/">here</a>. Instructions for using the virtualbox
image are <a href="http://praveenck.github.io/docs/vmimage/">here</a>.</p>

<h2 id="services">Services</h2>

<p>Services provide a single, common entry point for all interaction among
different UIs, including blocks, controllers and web services. A service can
even serve as an interface for business logic for other modules.</p>

<p>Services have well defined interfaces described in a service IDL. Service IDLs
document the public methods available to templates, blocks, controllers and web
services. For each method, the input and output data types are defined in XSDs.</p>

<h2 id="webhooks-and-callbacks">Webhooks and Callbacks</h2>

<p>To improve remote integrations with Magento, weâ€™re enabling the automatic
exposure of these services as web services to external clients. This Alpha-1
release also introduces support for real-time integrations with remote systems
using webhooks and callbacks.</p>

<p>Webhooks provide Event Observer-like behavior over HTTP. They allow you to be
notified when certain events occur in Magento and let you get real-time data
from the system. Â Callbacks also support communication from your Magento
installation out to a remote system, but callbacks trigger synchronously and use
the response from the remote integration in the rest of the user request
processing. Â As an example, in this release weâ€™re supporting the ability to
define remote shipping carriers where the shipping rates are retrieved over an
HTTP call.</p>

<h2 id="better-templating">Better Templating</h2>

<p>On the presentation tier, weâ€™re introducing support for Twig templating. Â Theme
development has always been a big part of Magento store customization, but
templates written in PHP meant that business logic occasionally was written into
the .phtml files. This meant that business logic could be lost, and had to be
duplicated from theme to theme. Â With a templating language like Twig, which
uses a restricted syntax, it is easier to ensure that your template files will
only be concerned with the logic needed to render your data.</p>

<p>Because templates need data to render and services are designed to provide a
well-managed, consistent view of the data a module can provide, weâ€™ve introduced
a syntax for binding templates to a service call directly from the layout file.</p>

<h2 id="extension-configuration-improvement">Extension Configuration Improvement</h2>

<p>Thereâ€™s another small improvement that weâ€™ve made to system configuration that
we hope will make your life a little easier. Â For most of the configuration
fields you define, you can describe everything you need in XMLâ€“except for the
values of a select box. Â Weâ€™ve introduced a syntax with this release that will
allow you to describe static select options inline, and dynamic options can be
extracted from the result of a service call.</p>

<p>These concepts have been introduced in isolated parts of the Magento application
so far in the hopes that you will comment on their value and help direct and
refine how they work. This is only the first set of ideas weâ€™re sharingâ€“there
are more to come, all aimed at improving compatibility among Magento extensions,
and the modularity and upgradability of Magento.</p>

<h2 id="new-approach-for-creating-extensions-and-customizations">New Approach for Creating Extensions and Customizations</h2>

<p>Hereâ€™s an outline of how to create an extension that includes some business
logic and associated presentation logic:</p>

<ul>
<li>
    <p>Create a service that encapsulates the extensionâ€™s business logic. This
involves defining the service interface using the service IDL, listing the
methods whose output will be needed in the presentation tier, and defining
the method input and output using XSD schemas.</p>
  </li>
  <li>
    <p>Create a template that renders your extensionâ€™s visual appearance.</p>
  </li>
  <li>
    <p>Associate the templateâ€™s data to one or more service calls via configuration
in layout.xml.</p>
  </li>
  <li>
    <p>Optionally, configure static and dynamic options lists for your extension.</p>
  </li>
</ul><h3 id="create-the-service-that-serves-data-to-your-extension">1. Create the Service That Serves Data to Your Extension</h3>

<p>You can start by looking at an existing service, such as the Product service.
Many extensions can just use an existing service. Extensions that modify only
the presentation logic or the look and feel can use existing services to obtain
the data to be rendered.</p>

<p>To create a service, you begin by defining the service using an IDL. The IDL
specifies the metadata for the service such as its name, version, list of
methods and input/output of methods. Learn more about service IDLs here:
<a href="http://magento.github.io/magento2-developer-docs/service-idl/">http://magento.github.io/magento2-developer-docs/service-idl/</a></p>

<p>Once you have defined your service IDL, you implement the service. A service is
implemented using a PHP class. The public methods of this class become available
for the presentation layer to access data. You can learn more about this by
reviewing the implementation of the Product service described here:
<a href="http://magento.github.io/magento2-developer-docs/service-impl/">http://magento.github.io/magento2-developer-docs/service-impl/</a></p>

<p>You can also expose your service over the web to REST and SOAP interfaces. There
is no implementation in the Alpha-1 release for this feature yet, but you can
get an idea as to how this will work here: <a href="http://magento.github.io/magento2-developer-docs/web-api/">Web Services</a></p>

<h3 id="create-the-template-for-your-extension">2. Create the Template for Your Extension</h3>

<p>To build the presentation layer functionality for your extension, you create
Twig templates. Find out how to use the new Twig templates for your extensions
here: <a href="http://magento.github.io/magento2-developer-docs/twig/">Twig Templates</a></p>

<h3 id="associate-templates-data-to-service-methods">3. Associate Templateâ€™s Data to Service Methods</h3>

<p>Once you have created a service and a template, you will need to associate the
templateâ€™s data to one or more service methods. You do this using service calls.
First, you need to declare service calls in service-calls.xml.</p>

<pre><code>
&lt;service-calls&gt;
    &lt;service-call name="selectedProductDetails" service="Mage_Catalog_Service_Product" method="item"&gt;
        &lt;arg name="productId"&gt;{{request.params.id}}&lt;/arg&gt;
    &lt;/service-call&gt;

    &lt;service-call name="selectedProductOptions" service="Mage_Catalog_Service_Product" method="getOptions"&gt;
        &lt;arg name="productId"&gt;{{request.params.id}}&lt;/arg&gt;
    &lt;/service-call&gt;


    &lt;service-call name="relatedProducts" service="Mage_Catalog_Service_Product" method="getRelatedProducts"&gt;
        &lt;arg name="productId"&gt;{{request.params.id}}&lt;/arg&gt;
    &lt;/service-call&gt;
&lt;/service-calls&gt;

</code></pre>

<p>To see a fuller example, review the Product service calls declaration here:
<a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/service-calls.xml">Product Service Calls Declaration</a></p>

<p>Once you have declared a service call in service-calls.xml, you bind it with
your extensionâ€™s template in layout.xml.</p>

<pre><code>
&lt;block type="Mage_Catalog_Block_Product_Twig" module="Mage_Catalog" name="product.info"
                   template="Mage_Catalog::product/view.twig"&gt;
	&lt;data service-call="selectedProductDetails" alias="product" /&gt;
	...
	...
&lt;/block&gt;

</code></pre>

<p>For reference, you can review the product service call invocation here: <a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/view/frontend/layout.xml">Product
Service Call Invocation</a></p>

<p>At this point, you should have a working extension that has both presentation
and business logic implemented and working together.</p>

<h3 id="configure-your-extensions-option-lists">4. Configure Your Extensionâ€™s Option Lists</h3>

<p>Your extension can now be configured. To set up configuration, you create static
and dynamic option lists by editing a system.xml file. Learn more about setting
up option lists here: <a href="http://praveenck.github.io/docs/option-list/">Extension Configuration</a></p>;T:	post@
I"/option-list/;T{;{	;I"*2<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="imagetoolbar" content="false">
<meta name="MSSmartTagsPreventParsing" content="true">
<title></title>
<link href="../css/reset.css" rel="stylesheet" type="text/css">
<link href="../css/960.css" rel="stylesheet" type="text/css">
<link href="../css/uv_active4d.css" rel="stylesheet" type="text/css">
<link href="../shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
<link href="../shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css">
<script src="../shared/js/jquery.js" type="text/javascript"></script><script src="../shared/js/documentation.js" type="text/javascript"></script>
</head>
<body class="api">
    <div id="header-wrapper">
      <div id="header">
        <div>
          <a class="logo" href="../"><img src="../images/logo_developer.png" width="161" height="47" alt="GitHub:Developer"></a>
          <ul class="nav">
<li><a href="../">Home</a></li>
            <li><a href="../vmimage">VM Image</a></li>
            <li><a href="https://getsatisfaction.com/magento-2-prerelease">Feedback</a></li>
          </ul>
</div>
      </div>
<!-- #header -->
    </div>
<!-- #header-wrapper -->

    <div id="wrapper">
      <div class="content">
    <h1 id="extension-configuration">Extension Configuration</h1>

<p>This documents the proposal for defining system configuration options for an
extension.</p>

<p>In the old model, to provide a drop-down selection box with values for the
merchant to select from, you had to write a PHP class source model to return the
array. Now, you can define static option lists in system.xml directly.</p>

<h2 id="configurable-static-option-lists">Configurable Static Option Lists</h2>

<p>Here are a couple of side-by-side comparisons of the old configuration model and
the new. Weâ€™ll look at an example in which we get a customer to show up in a
group, and set up whether the VAT number appears in the frontend.</p>

<h3 id="options--option-with-string-value">&lt;options&gt; + &lt;option&gt; with string value</h3>

<p>In the old old model, you configure the source model and the source_model class
(in this example,  Mage_Backend_Model_Config_Source_Yesno).</p>

<pre><code>
1.  In system.xml:

&lt;field id="auto_group_assign" translate="label comment"
type="select" sortOrder="10" showInDefault="1" showInWebsite="1"
showInStore="1"&gt;
    &lt;label&gt;Enable Automatic Assignment to Customer Group&lt;/label&gt;
    &lt;comment&gt;To show VAT number on frontend, set Show VAT Number on
            Frontend option to Yes.&lt;/comment&gt;
    &lt;source_model&gt;Mage_Backend_Model_Config_Source_Yesno&lt;/source_model&gt;
&lt;/field&gt;

2.  Create Yesno.php:

class Mage_Backend_Model_Config_Source_Yesno implements
 Mage_Core_Model_Option_ArrayInterface
{
	/**
	* Options getter
	*
	* @return array
	*/
	public function toOptionArray()
    {
		return array(
			array('value' =&gt; 1,
            'label'=&gt;Mage::helper('Mage_Backend_Helper_Data')-&gt;__('Yes')),

			array('value' =&gt; 0,
            'label'=&gt;Mage::helper('Mage_Backend_Helper_Data')-&gt;__('No')),
		);
	}
	/**
	* Get options in "key-value" format
	*
	* @return array
	*/

	public function toArray()
	{
		return array(
			0 =&gt;
            Mage::helper('Mage_Backend_Helper_Data')-&gt;__('No'),
			1 =&gt;
            Mage::helper('Mage_Backend_Helper_Data')-&gt;__('Yes'),
		);
	}
}
            
</code></pre>

<p>Using the new model, all you have to do is configure options in system.xml.</p>

<pre><code>
1.  In system.xml:

&lt;field id="auto_group_assign" translate="label comment"
type="select" sortOrder="10" showInDefault="1" showInWebsite="1"
showInStore="1"&gt;
	&lt;label&gt;Enable Automatic Assignment to Customer Group&lt;/label&gt;
	&lt;comment&gt;To show VAT number on frontend, set Show VAT Number on
		Frontend option to Yes.&lt;/comment&gt;
	&lt;options&gt;
		&lt;option label="Yes"&gt;1&lt;/option&gt;
		&lt;option label="No"&gt;0&lt;/option&gt;
	&lt;/options&gt;
&lt;/field&gt;

</code></pre>

<h3 id="options--option-with-constant-value--classconstant">&lt;options&gt; + &lt;option&gt; with constant value -Â class::constant</h3>

<p>In this example, weâ€™re setting up tax calculations based on customer location.</p>

<p>Using the old configuration model, it was necessary to configure the source
model and the source_model class (in this example the class is called
Mage_Customer_Model_Config_Source_Address_Type)</p>

<pre><code>
1.  In system.xml:

&lt;field id="tax_calculation_address_type" translate="label"
type="select" sortOrder="10" showInDefault="1" showInWebsite="1"
showInStore="1"&gt;
	&lt;label&gt;Tax Calculation Based On&lt;/label&gt;
	&lt;source_model&gt;Mage_Customer_Model_Config_Source_Address_Type&lt;/source_model&gt;
	&lt;depends&gt;
		&lt;field id="auto_group_assign"&gt;1&lt;/field&gt;
	&lt;/depends&gt;
&lt;/field&gt;

2.  Type.php:

	class Mage_Customer_Model_Config_Source_Address_Type implements
    Mage_Core_Model_Option_ArrayInterface
	{
		/**
		* Retrieve possible customer address types
		*
		* @return array
		*/
		public function toOptionArray()
		{
			return array(

				Mage_Customer_Model_Address_Abstract::TYPE_BILLING =&gt;
            		Mage::helper('Mage_Customer_Helper_Data')-&gt;__('Billing Address'),

				Mage_Customer_Model_Address_Abstract::TYPE_SHIPPING =&gt;
				Mage::helper('Mage_Customer_Helper_Data')-&gt;__('Shipping Address')
			);
		}
	}

</code></pre>

<p>Using the new model, all thatâ€™s necessary is to configure options in system.xml.</p>

<pre><code>
1.  system.xml

&lt;field id="tax_calculation_address_type" translate="label"
type="select" sortOrder="10" showInDefault="1" showInWebsite="1"
showInStore="1"&gt;
	&lt;label&gt;Tax Calculation Based On&lt;/label&gt;
	&lt;options&gt;
		&lt;option label="Billing
        Address"&gt;{{Mage_Customer_Model_Address_Abstract::TYPE_BILLING}}&lt;/option&gt;
        &lt;option label="Shipping
        Address"&gt;{{Mage_Customer_Model_Address_Abstract::TYPE_SHIPPING}}&lt;/option&gt;
	&lt;/options&gt;
	&lt;depends&gt;
		&lt;field id="auto_group_assign"&gt;1&lt;/field&gt;
	&lt;/depends&gt;
&lt;/field&gt;

</code></pre>

<h2 id="configurable-dynamic-option-lists">Configurable Dynamic Option Lists</h2>

<h3 id="options-with-service-call-attribute">&lt;options&gt; with service-call attribute</h3>

<p>Using the old model, you had to configure both the source_model and the
source_model class (in this example,  Mage_Customer_Model_Config_Source_Group)</p>

<pre><code>
1.  In system.xml:

&lt;field id="default_group" translate="label" type="select"
sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1"&gt;
	&lt;label&gt;Default Group&lt;/label&gt;
	&lt;source_model&gt;Mage_Customer_Model_Config_Source_Group&lt;/source_model&gt;
&lt;/field&gt;

2.  Group.php:

class Mage_Customer_Model_Config_Source_Group implements
Mage_Core_Model_Option_ArrayInterface
{
	protected $_options;
	public function toOptionArray()
	{
		if (!$this-&gt;_options) {
			$this-&gt;_options =
			Mage::getResourceModel('Mage_Customer_Model_Resource_Group_Collection')
			-&gt;setRealGroupsFilter()
			-&gt;loadData()-&gt;toOptionArray();
	
			array_unshift($this-&gt;_options, array('value'=&gt; '',
	            'label'=&gt; Mage::helper('Mage_Customer_Helper_Data')-&gt;__('-- Please
	            Select --')));
		}
		return $this-&gt;_options;
	}
}

</code></pre>

<p>Using the new model, you only have to configure options for service-call attributes idField and labelField in system.xml.</p>

<pre><code>
1.  In system.xml:

&lt;field id="default_group" translate="label" type="select"
sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1"&gt;
	&lt;label&gt;Default Group&lt;/label&gt;
	&lt;options service-call="customerGroup"
	idField="customer_group_id" labelField="customer_group_code"/&gt;
&lt;/field&gt;

</code></pre>

<p>Note: The service specified by the service-call attribute returns a list of objects, each containing data in key-value pairs. In the example above, the customerGroup service returns the following list of objects:</p>

<pre><code>
groups: {
	object0: {
		customer_group_id: 1
		customer_group_code: General
		tax_class_id: 3
	}
	object1: {
		customer_group_id: 2
		customer_group_code: Wholesale
		tax_class_id: 3
	}
	object2: {
		customer_group_id: 3
		customer_group_code: Retailer
		tax_class_id: 3
	}
}

</code></pre>

<p>The idField identifies the option, in this case the customer_group_id, and the labelField identifies the value, in this case the customer_group_code. In the current example, rendering will result in the following html:</p>

<pre><code>
&lt;option value="1"&gt;General&lt;/option&gt;
&lt;option value="2"&gt;Wholesale&lt;/option&gt;
&lt;option value="3"&gt;Retailer&lt;/option&gt;

</code></pre>
      </div>

    <div id="js-sidebar" class="sidebar-shell">
      <div class="js-toggle-list sidebar-module expandable">
        <ul>
<li class="js-guides"><h3><a href="../">Overview</a></h3></li>
          <li class="js-guides"><h3><a href="../twig/">Twig Templates</a></h3></li>
          <li class="js-guides"><h3><a href="../service-idl/">Service IDL</a></h3></li>
          <li class="js-guides"><h3><a href="../service-impl/">Service Implementation</a></h3></li>
          <li class="js-guides"><h3><a href="../webhooks/">Webhooks</a></h3></li>
          <li class="js-guides"><h3><a href="../web-api/">Creating Web APIs</a></h3></li>
          <li class="js-guides"><h3><a href="./">Extension Configuration</a></h3></li>
        </ul>
</div> <!-- /sidebar-module -->
    </div>
<!-- /sidebar-shell -->

    </div>
<!-- #wrapper -->

    <div id="footer">
      <div class="upper_footer">
        <div class="footer_inner clearfix">

        <!--[if IE]><h4 id="blacktocat_ie">GitHub Links</h4><![endif]-->
        <h4 id="blacktocat">GitHub Links</h4>

        <ul class="footer_nav">
<h4>GitHub</h4>
          <li><a href="https://github.com/about">About</a></li>
          <li><a href="https://github.com/blog">Blog</a></li>
          <li><a href="https://github.com/features">Features</a></li>
          <li><a href="https://github.com/contact">Contact &amp; Support</a></li>
          <li><a href="https://github.com/training">Training</a></li>
          <li><a href="http://status.github.com/">Site Status</a></li>
        </ul>
<ul class="footer_nav">
<h4>Tools</h4>
          <li><a href="http://mac.github.com/">GitHub for Mac</a></li>
          <li><a href="http://mobile.github.com/">Issues for iPhone</a></li>
          <li><a href="https://gist.github.com">Gist: Code Snippets</a></li>
          <li><a href="http://enterprise.github.com/">GitHub Enterprise</a></li>
          <li><a href="http://jobs.github.com/">Job Board</a></li>
        </ul>
<ul class="footer_nav">
<h4>Extras</h4>
          <li><a href="http://shop.github.com/">GitHub Shop</a></li>
          <li><a href="http://octodex.github.com/">The Octodex</a></li>
        </ul>
<ul class="footer_nav">
<h4>Documentation</h4>
          <li><a href="http://help.github.com/">GitHub Help</a></li>
          <li><a href="http://developer.github.com/">Developer API</a></li>
          <li><a href="http://github.github.com/github-flavored-markdown/">GitHub Flavored Markdown</a></li>
          <li><a href="http://pages.github.com/">GitHub Pages</a></li>
        </ul>
</div>
<!-- /.site -->
      </div>
<!-- /.upper_footer -->

      <div class="lower_footer">
        <div class="footer_inner clearfix">
            <div id="legal">
              <!--[if IE]><a class="home_ie" href="http://github.com">Home</a><![endif]-->
              <a class="home" href="http://github.com">Home</a>

              <ul id="legal_links">
<li><a href="http://help.github.com/terms-of-service/">Terms of Service</a></li>
                <li><a href="http://help.github.com/privacy-policy/">Privacy</a></li>
                <li><a href="http://help.github.com/security/">Security</a></li>
              </ul>
<p>Â© <span id="year">year</span> GitHub Inc. All rights reserved.</p>
            </div>
<!-- /#legal or /#legal_ie-->
        </div>
<!-- /.site -->
      </div>
<!-- /.lower_footer -->
    </div>
<!-- /#footer -->
    <script type="text/javascript">
      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '4f2038e0cb25bc1b55000003');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
</body>
</html>
;T;	I"òExtension Configuration
=======================

This documents the proposal for defining system configuration options for an
extension.

In the old model, to provide a drop-down selection box with values for the
merchant to select from, you had to write a PHP class source model to return the
array. Now, you can define static option lists in system.xml directly.

Configurable Static Option Lists
--------------------------------

Here are a couple of side-by-side comparisons of the old configuration model and
the new. We'll look at an example in which we get a customer to show up in a
group, and set up whether the VAT number appears in the frontend.

### <options\> + <option\> with string value

In the old old model, you configure the source model and the source_model class
(in this example,  Mage_Backend_Model_Config_Source_Yesno).

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

1.  In system.xml:

<field id="auto_group_assign" translate="label comment"
type="select" sortOrder="10" showInDefault="1" showInWebsite="1"
showInStore="1">
    <label>Enable Automatic Assignment to Customer Group</label>
    <comment>To show VAT number on frontend, set Show VAT Number on
            Frontend option to Yes.</comment>
    <source_model>Mage_Backend_Model_Config_Source_Yesno</source_model>
</field>

2.  Create Yesno.php:

class Mage_Backend_Model_Config_Source_Yesno implements
 Mage_Core_Model_Option_ArrayInterface
{
	/**
	* Options getter
	*
	* @return array
	*/
	public function toOptionArray()
    {
		return array(
			array('value' => 1,
            'label'=>Mage::helper('Mage_Backend_Helper_Data')->__('Yes')),

			array('value' => 0,
            'label'=>Mage::helper('Mage_Backend_Helper_Data')->__('No')),
		);
	}
	/**
	* Get options in "key-value" format
	*
	* @return array
	*/

	public function toArray()
	{
		return array(
			0 =>
            Mage::helper('Mage_Backend_Helper_Data')->__('No'),
			1 =>
            Mage::helper('Mage_Backend_Helper_Data')->__('Yes'),
		);
	}
}
            
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Using the new model, all you have to do is configure options in system.xml.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

1.  In system.xml:

<field id="auto_group_assign" translate="label comment"
type="select" sortOrder="10" showInDefault="1" showInWebsite="1"
showInStore="1">
	<label>Enable Automatic Assignment to Customer Group</label>
	<comment>To show VAT number on frontend, set Show VAT Number on
		Frontend option to Yes.</comment>
	<options>
		<option label="Yes">1</option>
		<option label="No">0</option>
	</options>
</field>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

### <options\> + <option\> with constant value -Â class::constant

In this example, we're setting up tax calculations based on customer location.

Using the old configuration model, it was necessary to configure the source
model and the source_model class (in this example the class is called
Mage_Customer_Model_Config_Source_Address_Type)

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

1.  In system.xml:

<field id="tax_calculation_address_type" translate="label"
type="select" sortOrder="10" showInDefault="1" showInWebsite="1"
showInStore="1">
	<label>Tax Calculation Based On</label>
	<source_model>Mage_Customer_Model_Config_Source_Address_Type</source_model>
	<depends>
		<field id="auto_group_assign">1</field>
	</depends>
</field>

2.  Type.php:

	class Mage_Customer_Model_Config_Source_Address_Type implements
    Mage_Core_Model_Option_ArrayInterface
	{
		/**
		* Retrieve possible customer address types
		*
		* @return array
		*/
		public function toOptionArray()
		{
			return array(

				Mage_Customer_Model_Address_Abstract::TYPE_BILLING =>
            		Mage::helper('Mage_Customer_Helper_Data')->__('Billing Address'),

				Mage_Customer_Model_Address_Abstract::TYPE_SHIPPING =>
				Mage::helper('Mage_Customer_Helper_Data')->__('Shipping Address')
			);
		}
	}

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Using the new model, all that's necessary is to configure options in system.xml.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

1.  system.xml

<field id="tax_calculation_address_type" translate="label"
type="select" sortOrder="10" showInDefault="1" showInWebsite="1"
showInStore="1">
	<label>Tax Calculation Based On</label>
	<options>
		<option label="Billing
        Address">{{Mage_Customer_Model_Address_Abstract::TYPE_BILLING}}</option>
        <option label="Shipping
        Address">{{Mage_Customer_Model_Address_Abstract::TYPE_SHIPPING}}</option>
	</options>
	<depends>
		<field id="auto_group_assign">1</field>
	</depends>
</field>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Configurable Dynamic Option Lists
---------------------------------

### <options\> with service-call attribute

Using the old model, you had to configure both the source_model and the
source_model class (in this example,  Mage_Customer_Model_Config_Source_Group)

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

1.  In system.xml:

<field id="default_group" translate="label" type="select"
sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
	<label>Default Group</label>
	<source_model>Mage_Customer_Model_Config_Source_Group</source_model>
</field>

2.  Group.php:

class Mage_Customer_Model_Config_Source_Group implements
Mage_Core_Model_Option_ArrayInterface
{
	protected $_options;
	public function toOptionArray()
	{
		if (!$this->_options) {
			$this->_options =
			Mage::getResourceModel('Mage_Customer_Model_Resource_Group_Collection')
			->setRealGroupsFilter()
			->loadData()->toOptionArray();
	
			array_unshift($this->_options, array('value'=> '',
	            'label'=> Mage::helper('Mage_Customer_Helper_Data')->__('-- Please
	            Select --')));
		}
		return $this->_options;
	}
}

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Using the new model, you only have to configure options for service-call attributes idField and labelField in system.xml.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

1.  In system.xml:

<field id="default_group" translate="label" type="select"
sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
	<label>Default Group</label>
	<options service-call="customerGroup"
	idField="customer_group_id" labelField="customer_group_code"/>
</field>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Note: The service specified by the service-call attribute returns a list of objects, each containing data in key-value pairs. In the example above, the customerGroup service returns the following list of objects:

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

groups: {
	object0: {
		customer_group_id: 1
		customer_group_code: General
		tax_class_id: 3
	}
	object1: {
		customer_group_id: 2
		customer_group_code: Wholesale
		tax_class_id: 3
	}
	object2: {
		customer_group_id: 3
		customer_group_code: Retailer
		tax_class_id: 3
	}
}

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The idField identifies the option, in this case the customer_group_id, and the labelField identifies the value, in this case the customer_group_code. In the current example, rendering will result in the following html:

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

<option value="1">General</option>
<option value="2">Wholesale</option>
<option value="3">Retailer</option>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


;T;
I"‘<h1 id="extension-configuration">Extension Configuration</h1>

<p>This documents the proposal for defining system configuration options for an
extension.</p>

<p>In the old model, to provide a drop-down selection box with values for the
merchant to select from, you had to write a PHP class source model to return the
array. Now, you can define static option lists in system.xml directly.</p>

<h2 id="configurable-static-option-lists">Configurable Static Option Lists</h2>

<p>Here are a couple of side-by-side comparisons of the old configuration model and
the new. Weâ€™ll look at an example in which we get a customer to show up in a
group, and set up whether the VAT number appears in the frontend.</p>

<h3 id="options--option-with-string-value">&lt;options&gt; + &lt;option&gt; with string value</h3>

<p>In the old old model, you configure the source model and the source_model class
(in this example,  Mage_Backend_Model_Config_Source_Yesno).</p>

<pre><code>
1.  In system.xml:

&lt;field id="auto_group_assign" translate="label comment"
type="select" sortOrder="10" showInDefault="1" showInWebsite="1"
showInStore="1"&gt;
    &lt;label&gt;Enable Automatic Assignment to Customer Group&lt;/label&gt;
    &lt;comment&gt;To show VAT number on frontend, set Show VAT Number on
            Frontend option to Yes.&lt;/comment&gt;
    &lt;source_model&gt;Mage_Backend_Model_Config_Source_Yesno&lt;/source_model&gt;
&lt;/field&gt;

2.  Create Yesno.php:

class Mage_Backend_Model_Config_Source_Yesno implements
 Mage_Core_Model_Option_ArrayInterface
{
	/**
	* Options getter
	*
	* @return array
	*/
	public function toOptionArray()
    {
		return array(
			array('value' =&gt; 1,
            'label'=&gt;Mage::helper('Mage_Backend_Helper_Data')-&gt;__('Yes')),

			array('value' =&gt; 0,
            'label'=&gt;Mage::helper('Mage_Backend_Helper_Data')-&gt;__('No')),
		);
	}
	/**
	* Get options in "key-value" format
	*
	* @return array
	*/

	public function toArray()
	{
		return array(
			0 =&gt;
            Mage::helper('Mage_Backend_Helper_Data')-&gt;__('No'),
			1 =&gt;
            Mage::helper('Mage_Backend_Helper_Data')-&gt;__('Yes'),
		);
	}
}
            
</code></pre>

<p>Using the new model, all you have to do is configure options in system.xml.</p>

<pre><code>
1.  In system.xml:

&lt;field id="auto_group_assign" translate="label comment"
type="select" sortOrder="10" showInDefault="1" showInWebsite="1"
showInStore="1"&gt;
	&lt;label&gt;Enable Automatic Assignment to Customer Group&lt;/label&gt;
	&lt;comment&gt;To show VAT number on frontend, set Show VAT Number on
		Frontend option to Yes.&lt;/comment&gt;
	&lt;options&gt;
		&lt;option label="Yes"&gt;1&lt;/option&gt;
		&lt;option label="No"&gt;0&lt;/option&gt;
	&lt;/options&gt;
&lt;/field&gt;

</code></pre>

<h3 id="options--option-with-constant-value--classconstant">&lt;options&gt; + &lt;option&gt; with constant value -Â class::constant</h3>

<p>In this example, weâ€™re setting up tax calculations based on customer location.</p>

<p>Using the old configuration model, it was necessary to configure the source
model and the source_model class (in this example the class is called
Mage_Customer_Model_Config_Source_Address_Type)</p>

<pre><code>
1.  In system.xml:

&lt;field id="tax_calculation_address_type" translate="label"
type="select" sortOrder="10" showInDefault="1" showInWebsite="1"
showInStore="1"&gt;
	&lt;label&gt;Tax Calculation Based On&lt;/label&gt;
	&lt;source_model&gt;Mage_Customer_Model_Config_Source_Address_Type&lt;/source_model&gt;
	&lt;depends&gt;
		&lt;field id="auto_group_assign"&gt;1&lt;/field&gt;
	&lt;/depends&gt;
&lt;/field&gt;

2.  Type.php:

	class Mage_Customer_Model_Config_Source_Address_Type implements
    Mage_Core_Model_Option_ArrayInterface
	{
		/**
		* Retrieve possible customer address types
		*
		* @return array
		*/
		public function toOptionArray()
		{
			return array(

				Mage_Customer_Model_Address_Abstract::TYPE_BILLING =&gt;
            		Mage::helper('Mage_Customer_Helper_Data')-&gt;__('Billing Address'),

				Mage_Customer_Model_Address_Abstract::TYPE_SHIPPING =&gt;
				Mage::helper('Mage_Customer_Helper_Data')-&gt;__('Shipping Address')
			);
		}
	}

</code></pre>

<p>Using the new model, all thatâ€™s necessary is to configure options in system.xml.</p>

<pre><code>
1.  system.xml

&lt;field id="tax_calculation_address_type" translate="label"
type="select" sortOrder="10" showInDefault="1" showInWebsite="1"
showInStore="1"&gt;
	&lt;label&gt;Tax Calculation Based On&lt;/label&gt;
	&lt;options&gt;
		&lt;option label="Billing
        Address"&gt;{{Mage_Customer_Model_Address_Abstract::TYPE_BILLING}}&lt;/option&gt;
        &lt;option label="Shipping
        Address"&gt;{{Mage_Customer_Model_Address_Abstract::TYPE_SHIPPING}}&lt;/option&gt;
	&lt;/options&gt;
	&lt;depends&gt;
		&lt;field id="auto_group_assign"&gt;1&lt;/field&gt;
	&lt;/depends&gt;
&lt;/field&gt;

</code></pre>

<h2 id="configurable-dynamic-option-lists">Configurable Dynamic Option Lists</h2>

<h3 id="options-with-service-call-attribute">&lt;options&gt; with service-call attribute</h3>

<p>Using the old model, you had to configure both the source_model and the
source_model class (in this example,  Mage_Customer_Model_Config_Source_Group)</p>

<pre><code>
1.  In system.xml:

&lt;field id="default_group" translate="label" type="select"
sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1"&gt;
	&lt;label&gt;Default Group&lt;/label&gt;
	&lt;source_model&gt;Mage_Customer_Model_Config_Source_Group&lt;/source_model&gt;
&lt;/field&gt;

2.  Group.php:

class Mage_Customer_Model_Config_Source_Group implements
Mage_Core_Model_Option_ArrayInterface
{
	protected $_options;
	public function toOptionArray()
	{
		if (!$this-&gt;_options) {
			$this-&gt;_options =
			Mage::getResourceModel('Mage_Customer_Model_Resource_Group_Collection')
			-&gt;setRealGroupsFilter()
			-&gt;loadData()-&gt;toOptionArray();
	
			array_unshift($this-&gt;_options, array('value'=&gt; '',
	            'label'=&gt; Mage::helper('Mage_Customer_Helper_Data')-&gt;__('-- Please
	            Select --')));
		}
		return $this-&gt;_options;
	}
}

</code></pre>

<p>Using the new model, you only have to configure options for service-call attributes idField and labelField in system.xml.</p>

<pre><code>
1.  In system.xml:

&lt;field id="default_group" translate="label" type="select"
sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1"&gt;
	&lt;label&gt;Default Group&lt;/label&gt;
	&lt;options service-call="customerGroup"
	idField="customer_group_id" labelField="customer_group_code"/&gt;
&lt;/field&gt;

</code></pre>

<p>Note: The service specified by the service-call attribute returns a list of objects, each containing data in key-value pairs. In the example above, the customerGroup service returns the following list of objects:</p>

<pre><code>
groups: {
	object0: {
		customer_group_id: 1
		customer_group_code: General
		tax_class_id: 3
	}
	object1: {
		customer_group_id: 2
		customer_group_code: Wholesale
		tax_class_id: 3
	}
	object2: {
		customer_group_id: 3
		customer_group_code: Retailer
		tax_class_id: 3
	}
}

</code></pre>

<p>The idField identifies the option, in this case the customer_group_id, and the labelField identifies the value, in this case the customer_group_code. In the current example, rendering will result in the following html:</p>

<pre><code>
&lt;option value="1"&gt;General&lt;/option&gt;
&lt;option value="2"&gt;Wholesale&lt;/option&gt;
&lt;option value="3"&gt;Retailer&lt;/option&gt;

</code></pre>;T;@I"/service-idl/;T{;{	;I"p/<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="imagetoolbar" content="false">
<meta name="MSSmartTagsPreventParsing" content="true">
<title></title>
<link href="../css/reset.css" rel="stylesheet" type="text/css">
<link href="../css/960.css" rel="stylesheet" type="text/css">
<link href="../css/uv_active4d.css" rel="stylesheet" type="text/css">
<link href="../shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
<link href="../shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css">
<script src="../shared/js/jquery.js" type="text/javascript"></script><script src="../shared/js/documentation.js" type="text/javascript"></script>
</head>
<body class="api">
    <div id="header-wrapper">
      <div id="header">
        <div>
          <a class="logo" href="../"><img src="../images/logo_developer.png" width="161" height="47" alt="GitHub:Developer"></a>
          <ul class="nav">
<li><a href="../">Home</a></li>
            <li><a href="../vmimage">VM Image</a></li>
            <li><a href="https://getsatisfaction.com/magento-2-prerelease">Feedback</a></li>
          </ul>
</div>
      </div>
<!-- #header -->
    </div>
<!-- #header-wrapper -->

    <div id="wrapper">
      <div class="content">
    <h1 id="service-idl">Service IDL</h1>

<p>The proposed new architecture consolidates all of an extensionâ€™s business into a
service layer. Presented here is an Interface Definition Language specification
that describes the services exposed through the service layer. An IDL formally
describes the functionality a service provides (methods, inputs and outputs of
methods) without exposing the details of how that functionality is implemented.</p>

<p>Some advantages of using an IDL:</p>

<ul>
<li>
    <p>Allows for well-defined and versioned interfaces that the services and
visual components depend on. This makes it simpler to control compatibility
issues during upgrades.</p>
  </li>
  <li>
    <p>An IDL can support more than one version of the domain/business logic
running in the Magento instance at the same time, increasing backward
compatibility.</p>
  </li>
</ul>
<h2 id="overview">Overview</h2>

<p>This document specifies the Interface Definition Language (IDL) that describes
the operations permitted by the Service layer. To support REST and SOAP Web
APIs, WADL and WSDL will be auto-generated from the IDL.</p>

<p>The data structure used in the payloads is defined in an XSD. The metadata about
a service call, such as version, required permissions, and locations of XSDs,
are carried by PHP annotations. Data structure and metadata are described in
what follows.</p>

<h2 id="php-annotations">PHP Annotations</h2>

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> Annotation </th>
<th style="border:1px solid black;"> Scope </th>
<th style="border:1px solid black;"> Values </th>
<th style="border:1px solid black;"> Required </th>
<th style="border:1px solid black;"> Definition </th>
</tr>
<tr>
<td style="border:1px solid black;"> @Service </td>
<td style="border:1px solid black;"> service </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> X </td>
<td style="border:1px solid black;"> Identifies the service being implemented </td>
</tr>
<tr>
<td style="border:1px solid black;"> @Version </td>
<td style="border:1px solid black;"> service </td>
<td style="border:1px solid black;"> N.M. </td>
<td style="border:1px solid black;"> X </td>
<td style="border:1px solid black;"> Service interface version </td>
</tr>
<tr>
<td style="border:1px solid black;"> @Consumes </td>
<td style="border:1px solid black;"> Call </td>
<td style="border:1px solid black;"> String </td>
<td style="border:1px solid black;"> X </td>
<td style="border:1px solid black;"> Identifies the location of the XSD that defines the structure of input parameters and the root element of the data structure. </td>
</tr>
<tr>
<td style="border:1px solid black;"> @Produces </td>
<td style="border:1px solid black;"> Call </td>
<td style="border:1px solid black;"> String </td>
<td style="border:1px solid black;"> X </td>
<td style="border:1px solid black;"> Identifies the location of the XSD that defines the structure of output parameters and the root element of the data structure. </td>
</tr>
</table>
<h2 id="service-calls">Service Calls</h2>

<p>A service operation is implemented as a class method. The class maps to the
service via the requirement that operations from a service be grouped into a
single class.</p>

<p><strong>Example of a service call</strong></p>

<pre><code>
/**
 * @Service product
 * @Version 1.0
 * @Path /products
 */
class Mage_Catalog_Service_Product
{
	/**
     * Returns info about one particular product.
     *
     * @Type call
     * @Method GET
     * @Path /:id
     * @Bindings [REST]
     * @Consumes (schema="etc/resources/product/item/input.xsd", element="id")
     * @Produces (schema="etc/resources/product/item/output.xsd", element="product")
     * @param int $id
     * @return array
     */
    public function item($id)
    {
        $this-&gt;_getObject($id);
        $data = $this-&gt;getProduct($id);
        $data = array_merge($data, $this-&gt;getAdditionalDetails($id));
        return $data;
    }
}

</code></pre>

<p>Here, the input data structure is identified in the @Consumes annotation as
belonging to the &lt;id&gt; element in <a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/resources/product/item/input.xsd">input.xsd</a>, and the
output data structure is identified in the @Produces annotation as belonging to
the &lt;product&gt; element in <a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/resources/product/item/output.xsd">output.xsd</a>. The shipping/consumerux.xsd file is
shown below.</p>

<p>The PHP function receives an associative array ($id function parameter)
reflecting the structure described by the element &lt;id&gt;. It returns
another associative array reflecting the structure described by the element
&lt;product&gt;.</p>

<h2 id="xsd">XSD</h2>

<p>The XSD is used to describe the data structure passed in during the service method call as
well as the returned data. During runtime data is stored into a associative
array.</p>

<p><strong><a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/resources/product/item/input.xsd">etc/resources/product/item/input.xsd</a></strong></p>

<pre><code>
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"&gt;
    &lt;xs:element name="id" type="xs:integer"/&gt;
&lt;/xs:schema&gt;

</code></pre>

<p><strong><a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/resources/product/item/output.xsd">etc/resources/product/item/output.xsd</a></strong></p>

<pre><code>
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           xmlns:mage="http://www.magento.com"&gt;
    &lt;xs:complexType name="product"&gt;
        &lt;xs:sequence&gt;
            &lt;xs:element name="entityId" type="xs:integer" /&gt;
            &lt;xs:element name="sku"&gt;
                &lt;xs:simpleType&gt;
                    &lt;xs:restriction base="xs:string"&gt;
                        &lt;xs:maxLength value="64"/&gt;
                    &lt;/xs:restriction&gt;
                &lt;/xs:simpleType&gt;
            &lt;/xs:element&gt;
            &lt;xs:element name="name" type="xs:string"/&gt;
            &lt;xs:element name="description" type="xs:string"/&gt;
            &lt;xs:element name="shortDescription" type="xs:string"/&gt;
            &lt;xs:element name="price" type="mage:price"/&gt;
        &lt;/xs:sequence&gt;
        ...
        ...
        ...
    &lt;/xs:complexType&gt;
&lt;/xs:schema&gt;

</code></pre>

<p>The sample input associative array that is passed to the service method and the sample output associative array returned by the service method are shown below.</p>

<p><strong>Sample input</strong></p>

<pre><code>


</code></pre>

<p><strong>Sample output</strong></p>

<pre><code>


</code></pre>
      </div>

    <div id="js-sidebar" class="sidebar-shell">
      <div class="js-toggle-list sidebar-module expandable">
        <ul>
<li class="js-guides"><h3><a href="../">Overview</a></h3></li>
          <li class="js-guides"><h3><a href="../twig/">Twig Templates</a></h3></li>
          <li class="js-guides"><h3><a href="./">Service IDL</a></h3></li>
          <li class="js-guides"><h3><a href="../service-impl/">Service Implementation</a></h3></li>
          <li class="js-guides"><h3><a href="../webhooks/">Webhooks</a></h3></li>
          <li class="js-guides"><h3><a href="../web-api/">Creating Web APIs</a></h3></li>
          <li class="js-guides"><h3><a href="../option-list/">Extension Configuration</a></h3></li>
        </ul>
</div> <!-- /sidebar-module -->
    </div>
<!-- /sidebar-shell -->

    </div>
<!-- #wrapper -->

    <div id="footer">
      <div class="upper_footer">
        <div class="footer_inner clearfix">

        <!--[if IE]><h4 id="blacktocat_ie">GitHub Links</h4><![endif]-->
        <h4 id="blacktocat">GitHub Links</h4>

        <ul class="footer_nav">
<h4>GitHub</h4>
          <li><a href="https://github.com/about">About</a></li>
          <li><a href="https://github.com/blog">Blog</a></li>
          <li><a href="https://github.com/features">Features</a></li>
          <li><a href="https://github.com/contact">Contact &amp; Support</a></li>
          <li><a href="https://github.com/training">Training</a></li>
          <li><a href="http://status.github.com/">Site Status</a></li>
        </ul>
<ul class="footer_nav">
<h4>Tools</h4>
          <li><a href="http://mac.github.com/">GitHub for Mac</a></li>
          <li><a href="http://mobile.github.com/">Issues for iPhone</a></li>
          <li><a href="https://gist.github.com">Gist: Code Snippets</a></li>
          <li><a href="http://enterprise.github.com/">GitHub Enterprise</a></li>
          <li><a href="http://jobs.github.com/">Job Board</a></li>
        </ul>
<ul class="footer_nav">
<h4>Extras</h4>
          <li><a href="http://shop.github.com/">GitHub Shop</a></li>
          <li><a href="http://octodex.github.com/">The Octodex</a></li>
        </ul>
<ul class="footer_nav">
<h4>Documentation</h4>
          <li><a href="http://help.github.com/">GitHub Help</a></li>
          <li><a href="http://developer.github.com/">Developer API</a></li>
          <li><a href="http://github.github.com/github-flavored-markdown/">GitHub Flavored Markdown</a></li>
          <li><a href="http://pages.github.com/">GitHub Pages</a></li>
        </ul>
</div>
<!-- /.site -->
      </div>
<!-- /.upper_footer -->

      <div class="lower_footer">
        <div class="footer_inner clearfix">
            <div id="legal">
              <!--[if IE]><a class="home_ie" href="http://github.com">Home</a><![endif]-->
              <a class="home" href="http://github.com">Home</a>

              <ul id="legal_links">
<li><a href="http://help.github.com/terms-of-service/">Terms of Service</a></li>
                <li><a href="http://help.github.com/privacy-policy/">Privacy</a></li>
                <li><a href="http://help.github.com/security/">Security</a></li>
              </ul>
<p>Â© <span id="year">year</span> GitHub Inc. All rights reserved.</p>
            </div>
<!-- /#legal or /#legal_ie-->
        </div>
<!-- /.site -->
      </div>
<!-- /.lower_footer -->
    </div>
<!-- /#footer -->
    <script type="text/javascript">
      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '4f2038e0cb25bc1b55000003');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
</body>
</html>
;T;	I"ìService IDL
===========

The proposed new architecture consolidates all of an extension's business into a
service layer. Presented here is an Interface Definition Language specification
that describes the services exposed through the service layer. An IDL formally
describes the functionality a service provides (methods, inputs and outputs of
methods) without exposing the details of how that functionality is implemented.

Some advantages of using an IDL:

-   Allows for well-defined and versioned interfaces that the services and
    visual components depend on. This makes it simpler to control compatibility
    issues during upgrades.

-   An IDL can support more than one version of the domain/business logic
    running in the Magento instance at the same time, increasing backward
    compatibility.

Overview
--------

This document specifies the Interface Definition Language (IDL) that describes
the operations permitted by the Service layer. To support REST and SOAP Web
APIs, WADL and WSDL will be auto-generated from the IDL.

The data structure used in the payloads is defined in an XSD. The metadata about
a service call, such as version, required permissions, and locations of XSDs,
are carried by PHP annotations. Data structure and metadata are described in
what follows.

PHP Annotations
---------------



<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> Annotation </th>
<th style="border:1px solid black;"> Scope </th>
<th style="border:1px solid black;"> Values </th>
<th style="border:1px solid black;"> Required </th>
<th style="border:1px solid black;"> Definition </th>
</tr>
<tr>
<td style="border:1px solid black;"> @Service </td>
<td style="border:1px solid black;"> service </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> X </td>
<td style="border:1px solid black;"> Identifies the service being implemented </td>
</tr>
<tr>
<td style="border:1px solid black;"> @Version </td>
<td style="border:1px solid black;"> service </td>
<td style="border:1px solid black;"> N.M. </td>
<td style="border:1px solid black;"> X </td>
<td style="border:1px solid black;"> Service interface version </td>
</tr>
<tr>
<td style="border:1px solid black;"> @Consumes </td>
<td style="border:1px solid black;"> Call </td>
<td style="border:1px solid black;"> String </td>
<td style="border:1px solid black;"> X </td>
<td style="border:1px solid black;"> Identifies the location of the XSD that defines the structure of input parameters and the root element of the data structure. </td>
</tr>
<tr>
<td style="border:1px solid black;"> @Produces </td>
<td style="border:1px solid black;"> Call </td>
<td style="border:1px solid black;"> String </td>
<td style="border:1px solid black;"> X </td>
<td style="border:1px solid black;"> Identifies the location of the XSD that defines the structure of output parameters and the root element of the data structure. </td>
</tr>
</table>



Service Calls
---

A service operation is implemented as a class method. The class maps to the
service via the requirement that operations from a service be grouped into a
single class.

**Example of a service call**

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

/**
 * @Service product
 * @Version 1.0
 * @Path /products
 */
class Mage_Catalog_Service_Product
{
	/**
     * Returns info about one particular product.
     *
     * @Type call
     * @Method GET
     * @Path /:id
     * @Bindings [REST]
     * @Consumes (schema="etc/resources/product/item/input.xsd", element="id")
     * @Produces (schema="etc/resources/product/item/output.xsd", element="product")
     * @param int $id
     * @return array
     */
    public function item($id)
    {
        $this->_getObject($id);
        $data = $this->getProduct($id);
        $data = array_merge($data, $this->getAdditionalDetails($id));
        return $data;
    }
}

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Here, the input data structure is identified in the @Consumes annotation as
belonging to the <id\> element in [input.xsd][1], and the
output data structure is identified in the @Produces annotation as belonging to
the <product\> element in [output.xsd][2]. The shipping/consumerux.xsd file is
shown below.

[1]: <https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/resources/product/item/input.xsd>
[2]: <https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/resources/product/item/output.xsd>

The PHP function receives an associative array ($id function parameter)
reflecting the structure described by the element <id\>. It returns
another associative array reflecting the structure described by the element
<product\>.

XSD
---

The XSD is used to describe the data structure passed in during the service method call as
well as the returned data. During runtime data is stored into a associative
array.

**[etc/resources/product/item/input.xsd][1]**

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
    <xs:element name="id" type="xs:integer"/>
</xs:schema>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**[etc/resources/product/item/output.xsd][2]**

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           xmlns:mage="http://www.magento.com">
    <xs:complexType name="product">
        <xs:sequence>
            <xs:element name="entityId" type="xs:integer" />
            <xs:element name="sku">
                <xs:simpleType>
                    <xs:restriction base="xs:string">
                        <xs:maxLength value="64"/>
                    </xs:restriction>
                </xs:simpleType>
            </xs:element>
            <xs:element name="name" type="xs:string"/>
            <xs:element name="description" type="xs:string"/>
            <xs:element name="shortDescription" type="xs:string"/>
            <xs:element name="price" type="mage:price"/>
        </xs:sequence>
        ...
        ...
        ...
    </xs:complexType>
</xs:schema>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The sample input associative array that is passed to the service method and the sample output associative array returned by the service method are shown below.

**Sample input**

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**Sample output**

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

;T;
I"Õ<h1 id="service-idl">Service IDL</h1>

<p>The proposed new architecture consolidates all of an extensionâ€™s business into a
service layer. Presented here is an Interface Definition Language specification
that describes the services exposed through the service layer. An IDL formally
describes the functionality a service provides (methods, inputs and outputs of
methods) without exposing the details of how that functionality is implemented.</p>

<p>Some advantages of using an IDL:</p>

<ul>
<li>
    <p>Allows for well-defined and versioned interfaces that the services and
visual components depend on. This makes it simpler to control compatibility
issues during upgrades.</p>
  </li>
  <li>
    <p>An IDL can support more than one version of the domain/business logic
running in the Magento instance at the same time, increasing backward
compatibility.</p>
  </li>
</ul><h2 id="overview">Overview</h2>

<p>This document specifies the Interface Definition Language (IDL) that describes
the operations permitted by the Service layer. To support REST and SOAP Web
APIs, WADL and WSDL will be auto-generated from the IDL.</p>

<p>The data structure used in the payloads is defined in an XSD. The metadata about
a service call, such as version, required permissions, and locations of XSDs,
are carried by PHP annotations. Data structure and metadata are described in
what follows.</p>

<h2 id="php-annotations">PHP Annotations</h2>

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> Annotation </th>
<th style="border:1px solid black;"> Scope </th>
<th style="border:1px solid black;"> Values </th>
<th style="border:1px solid black;"> Required </th>
<th style="border:1px solid black;"> Definition </th>
</tr>
<tr>
<td style="border:1px solid black;"> @Service </td>
<td style="border:1px solid black;"> service </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> X </td>
<td style="border:1px solid black;"> Identifies the service being implemented </td>
</tr>
<tr>
<td style="border:1px solid black;"> @Version </td>
<td style="border:1px solid black;"> service </td>
<td style="border:1px solid black;"> N.M. </td>
<td style="border:1px solid black;"> X </td>
<td style="border:1px solid black;"> Service interface version </td>
</tr>
<tr>
<td style="border:1px solid black;"> @Consumes </td>
<td style="border:1px solid black;"> Call </td>
<td style="border:1px solid black;"> String </td>
<td style="border:1px solid black;"> X </td>
<td style="border:1px solid black;"> Identifies the location of the XSD that defines the structure of input parameters and the root element of the data structure. </td>
</tr>
<tr>
<td style="border:1px solid black;"> @Produces </td>
<td style="border:1px solid black;"> Call </td>
<td style="border:1px solid black;"> String </td>
<td style="border:1px solid black;"> X </td>
<td style="border:1px solid black;"> Identifies the location of the XSD that defines the structure of output parameters and the root element of the data structure. </td>
</tr>
</table><h2 id="service-calls">Service Calls</h2>

<p>A service operation is implemented as a class method. The class maps to the
service via the requirement that operations from a service be grouped into a
single class.</p>

<p><strong>Example of a service call</strong></p>

<pre><code>
/**
 * @Service product
 * @Version 1.0
 * @Path /products
 */
class Mage_Catalog_Service_Product
{
	/**
     * Returns info about one particular product.
     *
     * @Type call
     * @Method GET
     * @Path /:id
     * @Bindings [REST]
     * @Consumes (schema="etc/resources/product/item/input.xsd", element="id")
     * @Produces (schema="etc/resources/product/item/output.xsd", element="product")
     * @param int $id
     * @return array
     */
    public function item($id)
    {
        $this-&gt;_getObject($id);
        $data = $this-&gt;getProduct($id);
        $data = array_merge($data, $this-&gt;getAdditionalDetails($id));
        return $data;
    }
}

</code></pre>

<p>Here, the input data structure is identified in the @Consumes annotation as
belonging to the &lt;id&gt; element in <a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/resources/product/item/input.xsd">input.xsd</a>, and the
output data structure is identified in the @Produces annotation as belonging to
the &lt;product&gt; element in <a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/resources/product/item/output.xsd">output.xsd</a>. The shipping/consumerux.xsd file is
shown below.</p>

<p>The PHP function receives an associative array ($id function parameter)
reflecting the structure described by the element &lt;id&gt;. It returns
another associative array reflecting the structure described by the element
&lt;product&gt;.</p>

<h2 id="xsd">XSD</h2>

<p>The XSD is used to describe the data structure passed in during the service method call as
well as the returned data. During runtime data is stored into a associative
array.</p>

<p><strong><a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/resources/product/item/input.xsd">etc/resources/product/item/input.xsd</a></strong></p>

<pre><code>
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"&gt;
    &lt;xs:element name="id" type="xs:integer"/&gt;
&lt;/xs:schema&gt;

</code></pre>

<p><strong><a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/resources/product/item/output.xsd">etc/resources/product/item/output.xsd</a></strong></p>

<pre><code>
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           xmlns:mage="http://www.magento.com"&gt;
    &lt;xs:complexType name="product"&gt;
        &lt;xs:sequence&gt;
            &lt;xs:element name="entityId" type="xs:integer" /&gt;
            &lt;xs:element name="sku"&gt;
                &lt;xs:simpleType&gt;
                    &lt;xs:restriction base="xs:string"&gt;
                        &lt;xs:maxLength value="64"/&gt;
                    &lt;/xs:restriction&gt;
                &lt;/xs:simpleType&gt;
            &lt;/xs:element&gt;
            &lt;xs:element name="name" type="xs:string"/&gt;
            &lt;xs:element name="description" type="xs:string"/&gt;
            &lt;xs:element name="shortDescription" type="xs:string"/&gt;
            &lt;xs:element name="price" type="mage:price"/&gt;
        &lt;/xs:sequence&gt;
        ...
        ...
        ...
    &lt;/xs:complexType&gt;
&lt;/xs:schema&gt;

</code></pre>

<p>The sample input associative array that is passed to the service method and the sample output associative array returned by the service method are shown below.</p>

<p><strong>Sample input</strong></p>

<pre><code>


</code></pre>

<p><strong>Sample output</strong></p>

<pre><code>


</code></pre>;T;@I"/service-impl/;T{;{	;I"àž<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="imagetoolbar" content="false">
<meta name="MSSmartTagsPreventParsing" content="true">
<title></title>
<link href="../css/reset.css" rel="stylesheet" type="text/css">
<link href="../css/960.css" rel="stylesheet" type="text/css">
<link href="../css/uv_active4d.css" rel="stylesheet" type="text/css">
<link href="../shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
<link href="../shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css">
<script src="../shared/js/jquery.js" type="text/javascript"></script><script src="../shared/js/documentation.js" type="text/javascript"></script>
</head>
<body class="api">
    <div id="header-wrapper">
      <div id="header">
        <div>
          <a class="logo" href="../"><img src="../images/logo_developer.png" width="161" height="47" alt="GitHub:Developer"></a>
          <ul class="nav">
<li><a href="../">Home</a></li>
            <li><a href="../vmimage">VM Image</a></li>
            <li><a href="https://getsatisfaction.com/magento-2-prerelease">Feedback</a></li>
          </ul>
</div>
      </div>
<!-- #header -->
    </div>
<!-- #header-wrapper -->

    <div id="wrapper">
      <div class="content">
    <h1 id="service-implementation">Service Implementation</h1>

<p>This is the proposed model for implementing Magento services. Using a service
layer with interfaces described by service IDLs provides the following
advantages for developing and maintaining Magento extensions:</p>

<ul>
<li>
    <p>A service encapsulates domain/business logic in a single component.</p>
  </li>
  <li>
    <p>Multiple implementations of a service can be supported in the same Magento
instance.</p>
  </li>
  <li>
    <p>A serviceâ€™s owner controls  the quality of the service component, because
other components are restricted from directly modifying the implementation.</p>
  </li>
  <li>
    <p>Data access becomes a private concern of the service implementation, which
increases predictability and compatibility.</p>
  </li>
  <li>
    <p>A service can be exposed as a Web API. To see how this is done, check out
<a href="http://magento.github.io/magento2-developer-docs/web-api/">Creating Web APIs</a>.</p>
  </li>
</ul>
<ul>
<li>The data are defined declaratively in schemas, rather than in PHP classes.</li>
</ul>
<h2 id="implementing-a-service">Implementing a Service</h2>

<p>The first step in creating a service component is to define the service using
the service IDL.</p>

<p>Once you have defined a service IDL, you implement the service using a PHP
class. You make the public methods of this PHP class available to your
extensionâ€™s presentation layer, which uses the methods to access data.</p>

<p>As an example, the documentation for the Product service IDL <a href="http://magento.github.io/magento2-developer-docs/service-idl/">here</a> describes
how to define a service using the service IDL.</p>

<p>The source code for Product service is <a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/Service/Product.php">here</a></p>

<p>The service has a method, <code>item</code> (<i>line 117</i>). The method takes a single
parameter, which is the product ID, and retrieves product data in an array
defined by the response schema.</p>

<p>The <code>@Consumes</code> annotation names the schema for the request, and <code>@Produces</code>
annotation names the schema for the response defined in the IDL. (By the way,
<code>@Version</code> refers to the version of the service, not the individual call.)</p>

<p>The business logic for the service method is implemented using models and
resource models.</p>

<p>Once you have implemented the service as a PHP class, you make the public
methods of the service available to the presentation tier components by
declaring the service-calls in <a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/service-calls.xml">service-calls.xml</a>.</p>

<pre><code>
&lt;service-calls&gt;
    &lt;service-call name="selectedProductDetails" service="Mage_Catalog_Service_Product" method="item"&gt;
        &lt;arg name="productId"&gt;{{request.params.id}}&lt;/arg&gt;
    &lt;/service-call&gt;

    &lt;service-call name="selectedProductOptions" service="Mage_Catalog_Service_Product" method="getOptions"&gt;
        &lt;arg name="productId"&gt;{{request.params.id}}&lt;/arg&gt;
    &lt;/service-call&gt;


    &lt;service-call name="relatedProducts" service="Mage_Catalog_Service_Product" method="getRelatedProducts"&gt;
        &lt;arg name="productId"&gt;{{request.params.id}}&lt;/arg&gt;
    &lt;/service-call&gt;
&lt;/service-calls&gt;

</code></pre>

<p>Once the service is implemented and its service methods are declared as
service-calls, you invoke the service-call by including the following
declaration in layout.xml</p>

<pre><code>
&lt;block type="Mage_Catalog_Block_Product_Twig" module="Mage_Catalog" name="product.info"
                   template="Mage_Catalog::product/view.twig"&gt;
	&lt;data service-call="selectedProductDetails" alias="product" /&gt;
	...
	...
&lt;/block&gt;

</code></pre>

<p>The Product service-calls are invoked in the Catalog Product layout when
rendering the templates for the Product View page. For details, you can refer to
the <a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/view/frontend/layout.xml">layout.xml</a> for Catalog Product.</p>

<p>Below are details of the input and output data schema for Product service item
method.</p>

<h3 id="input-schema">Input Schema</h3>

<p>This schema defines the serviceâ€™s single request parameter.</p>

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> Name </th>
<th style="border:1px solid black;"> Type </th>
<th style="border:1px solid black;"> Description </th>
<th style="border:1px solid black;"> Sample </th>
</tr>
<tr>
<td style="border:1px solid black;"> <b>id</b> </td>
<td style="border:1px solid black;"> xs:integer </td>
<td style="border:1px solid black;"> The product ID number </td>
<td style="border:1px solid black;"> 1234 </td>
</tr>
</table>
<h3 id="output-schema">Output Schema</h3>

<p>This schema defines the array to be returned  by the product service item
method.</p>

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> Name </th>
<th style="border:1px solid black;"> Type </th>
<th style="border:1px solid black;"> Description </th>
<th style="border:1px solid black;"> Sample </th>
</tr>
<tr>
<td style="border:1px solid black;"> <b>product</b> </td>
<td style="border:1px solid black;"> <b>mage:product</b> </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> product.<b>data</b>
</td> 
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> product.<b>relatedData</b>
</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>dictionary</b>
</td>
<td style="border:1px solid black;"> Complex type </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<b>urlInStore</b>
</td>
<td style="border:1px solid black;"> xs:anyURI </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<b>urlPath</b>
</td>
<td style="border:1px solid black;"> xs:string </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary<strong>url</strong>
</td>
<td style="border:1px solid black;">  xs.anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>submitUrl</strong>
</td>  
<td style="border:1px solid black;">xs.anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>compareURL</strong>
</td>
<td style="border:1px solid black;"> xs:anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>compareURL</strong>
</td>
<td style="border:1px solid black;"> xs:anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>fileViewURL</strong>
</td>
<td style="border:1px solid black;"> xs:anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>emailToFriendURL</strong>
</td>
<td style="border:1px solid black;">xs:anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>canEmailToFriend</strong>
</td>
<td style="border:1px solid black;"> xs:anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>hasOptions</strong>
</td>
<td style="border:1px solid black;"> xs:boolean</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>wishListDataAllowed</strong>
</td>
<td style="border:1px solid black;">xs:boolean</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>optionsContainer</strong>
</td>
<td style="border:1px solid black;"> xs:string</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>jsonConfig</strong>
</td>
<td style="border:1px solid black;"> xs:string</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>isSaleable</strong>
</td>
<td style="border:1px solid black;"> xs:boolean</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>formattedPrice</strong>
</td>
<td style="border:1px solid black;"> xs:string</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
</table>
<p> The table below documents complex type Product from the above schema </p>

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> Name </th>
<th style="border:1px solid black;"> Type </th>
<th style="border:1px solid black;"> Description </th>
<th style="border:1px solid black;"> Sample </th>
</tr>
<tr>
<td style="border:1px solid black;"> name </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product name. <b>Required</b>. </td>
<td style="border:1px solid black;"> New product </td>
</tr>
<tr>
<td style="border:1px solid black;"> sku </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product SKU. Constrains: maxLength value = 64. <b>Required</b>. </td>
<td style="border:1px solid black;"> new_product </td>
</tr>
<tr>
<td style="border:1px solid black;"> description </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product description. <b>Required</b>.  </td>
<td style="border:1px solid black;"> This is a new product.  </td>
</tr>
<tr>
<td style="border:1px solid black;"> shortDescription </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product short description. <b>Required</b>. </td>
<td style="border:1px solid black;"> A new product.  </td>
</tr>
<tr>
<td style="border:1px solid black;"> price </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Product price. <b>Required</b>.  </td>
<td style="border:1px solid black;"> 200 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>specialPrice</b> </td>
<td style="border:1px solid black;"> complex type </td>
<td style="border:1px solid black;">   </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> specialPrice.<b>specialPrice</b> </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Product special price. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 150 </td>
</tr>
<tr>
<td style="border:1px solid black;"> specialPrice.<b>specialFromDate</b> </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date starting from which the special price will be applied to the product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> specialPrice.<b>specialToDate</b> </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date till which the special price will be applied to the product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000  </td>
</tr>
<tr>
<td style="border:1px solid black;"> cost </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Product cost. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 100 </td>
</tr>
<tr>
<td style="border:1px solid black;"> weight </td>
<td style="border:1px solid black;"> decimal </td>
<td style="border:1px solid black;"> Product weight. <b>Required</b>. </td>
<td style="border:1px solid black;"> 0.5 </td>
</tr>
<tr>
<td style="border:1px solid black;"> manufacturer </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Product manufacturer. <b>Optional</b>. </td>
<td style="border:1px solid black;"> Test manufacturer </td>
</tr>
<tr>
<td style="border:1px solid black;"> metaTitle </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product meta title. <b>Optional</b>. </td>
<td style="border:1px solid black;"> new product  </td>
</tr>
<tr>
<td style="border:1px solid black;"> metaKeyword </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product meta keywords. <b>Optional</b>. </td>
<td style="border:1px solid black;"> new, product </td>
</tr>
<tr>
<td style="border:1px solid black;"> metaDescription </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product meta description. Constrains: maxLength value = 255. <b>Optional</b>. </td>
<td style="border:1px solid black;"> This is a new product  </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>images</b>  </td>
<td style="border:1px solid black;"> complex type  </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> images.<b>image</b> </td>
<td style="border:1px solid black;"> mage:image_type </td>
<td style="border:1px solid black;"> Product image. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> images.<b>smallImage</b> </td>
<td style="border:1px solid black;"> mage:image_type </td>
<td style="border:1px solid black;"> Product small image. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> images.<b>thumbnail</b> </td>
<td style="border:1px solid black;"> mage:image_type </td>
<td style="border:1px solid black;"> Product thumbnail image. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> mediaGallery </td>
<td style="border:1px solid black;"> mage:media_gallery </td>
<td style="border:1px solid black;"> Product images. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> oldId </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Original system ID assigned to the product, if a catalog has been imported from legacy system. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 123 </td>
</tr>
<tr>
<td style="border:1px solid black;"> groupPrice </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Product group price. <b>Optional</b>. </td>
<td style="border:1px solid black;"> array of group price </td>
</tr>
<tr>
<td style="border:1px solid black;"> tierPrice </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Product tier price. <b>Optional</b>. </td>
<td style="border:1px solid black;"> array of tier price  </td>
</tr>
<tr>
<td style="border:1px solid black;"> color </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Product color. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> newsFromDate </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date starting from which the product is promoted as a new product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000  </td>
</tr>
<tr>
<td style="border:1px solid black;"> newsToDate </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date till which the product is promoted as a new product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> gallery </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> status </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Product status. Can have the following values: 1- Enabled, 2 - Disabled. <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> urlKey </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> A friendly URL path for the product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> new-product  </td>
</tr>
<tr>
<td style="border:1px solid black;"> urlPath </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> minimalPrice </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Minimal price of the product. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> isRecurring </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the product is recurring. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> recurringProfile </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Information about the recurring payments. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> visibility </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Product visibility. Can have the following values: 1 - Not Visible Individually, 2 - Catalog, 3 - Search, 4 - Catalog, Search. <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> customDesign </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Custom design applied for the product page. <b>Optional</b>. </td>
<td style="border:1px solid black;"> enterprise/default  </td>
</tr>
<tr>
<td style="border:1px solid black;"> customDesignFrom </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date starting from which the custom design will be applied to the product page. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> customDesignTo </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date till which the custom design will be applied to the product page. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> customLayoutUpdate </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> An XML block to alter the page layout. <b>Optional</b>. </td>
<td style="border:1px solid black;"> XML body </td>
</tr>
<tr>
<td style="border:1px solid black;"> pageLayout </td>
<td style="border:1px solid black;"> mage:string_label_array </td>
<td style="border:1px solid black;"> Page template that can be applied to the product page. <b>Optional</b>. </td>
<td style="border:1px solid black;"> one_column </td>
</tr>
<tr>
<td style="border:1px solid black;"> categoryIds </td>
<td style="border:1px solid black;"> mage:string_label_array </td>
<td style="border:1px solid black;"> Contains the category(s) ID (s) to which a product belongs. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> optionsContainer </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Defines how the custom options for the product will be displayed. Can have the following values: Block after Info Column or Product Info Column. <b>Optional</b>. </td>
<td style="border:1px solid black;"> container2 </td>
</tr>
<tr>
<td style="border:1px solid black;"> requiredOptions </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether specifying the product option is mandatory or not. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> hasOptions </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether a product has the custom options or not. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> createdAt </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Defines the date of a product creation. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> updatedAt </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Defines the date of a product update. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> countryOfManufacture </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product's country of manufacture. <b>Optional</b>. </td>
<td style="border:1px solid black;"> AD </td>
</tr>
<tr>
<td style="border:1px solid black;"> msrpEnabled </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> The Apply MAP option. Defines whether the price in the catalog in the frontend is substituted with a Click for price link. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> msrpDisplayActualPriceType </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Defines how the price will be displayed in the frontend. Can have the following values: In Cart, Before Order Confirmation, and On Gesture. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2 </td>
</tr>
<tr>
<td style="border:1px solid black;"> msrp </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> The Manufacturer's Suggested Retail Price option. The price that a manufacturer suggests to sell the product at. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 140 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>quantityAndStockStatus</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> quantityAndStockStatus.<b>isInStock</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the product is available for selling. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> quantityAndStockStatus.<b>qty</b> </td>
<td style="border:1px solid black;"> decimal </td>
<td style="border:1px solid black;"> Quantity of stock items for the current product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 99 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>bundle</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> bundle.<b>priceType</b> </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Defines whether the bundle product price is Dynamic or Fixed. <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> bundle.<b>skuType</b> </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Defined whether the bundle product SKU is Dynamic or Fixed. <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> bundle.<b>weightType</b> </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Defined whether the bundle product weight is Dynamic or Fixed. <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> bundle.<b>priceView</b> </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Defined whether the bundle product price should display as "Price Range" or "As Low as." <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> bundle.<b>shipmentType</b> </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Defines whether the bundle items are to be shipped together or separately. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>downloadable</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> downloadable.<b>linksPurchasedSeparately</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the downloadable product links could be purchased separately. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> downloadable.<b>samplesTitle</b> </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Title of the downloadable product sample. <b>Optional</b>. </td>
<td style="border:1px solid black;"> Sample </td>
</tr>
<tr>
<td style="border:1px solid black;"> downloadable.<b>linksTitle</b> </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Title of the downloadable product link. <b>Optional</b>. </td>
<td style="border:1px solid black;"> Links </td>
</tr>
<tr>
<td style="border:1px solid black;"> downloadable.<b>linksExist</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftMessageAvailable </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the gift message is available for the product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> taxClassId </td>
<td style="border:1px solid black;"> mage:string_label </td>
<td style="border:1px solid black;"> Product tax class. Can have the following values: 0 - None, 2 - taxable Goods, 4 - Shipping, etc., depending on created tax classes. <b>Required</b>. </td>
<td style="border:1px solid black;"> 7 </td>
</tr>
<tr>
<td style="border:1px solid black;"> enableGooglecheckout </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the product can be purchased with the help of the Google Checkout payment service. Can have the following values: Yes and No. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>giftcard</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>giftcard.giftcardAmounts</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;"> Defines the available amounts for the gift card product. <b>Required</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.giftcardAmounts.<b>amount</b> </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Defines the amount for a gift card. Constrains: maxOccurs = unbounded. <b>Required</b>. </td>
<td style="border:1px solid black;"> 20 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>allowOpenAmount</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the open amount is allowed for a gift card. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>openAmountMin</b> </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Defines the minimal amount of a gift card if the open amount is allowed. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 5 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>openAmountMax</b> </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Defines the maximal amount of a gift card if the open amount is allowed. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 100 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>giftcardType</b> </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Defines the type of a gift card: Virtual, Physical, or Combined. <b>Required</b>. </td>
<td style="border:1px solid black;"> 2 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>isRedeemable</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the card is redeemable. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>useConfigIsRedeemable</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the settings specified in the store's Configuration section should apply for the Is Redeemable option. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>lifetime</b> </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Defines for how many days a gift card is valid. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 3 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>useConfigLifetime</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the settings specified in the store's Configuration section should apply for the Lifetime option. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>emailTemplate</b> </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Defines which email template should be used for a gift card. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>useConfigEmailTemplate</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the settings specified in the store's Configuration section should apply for the Email Template option. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>allowMessage</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the accompanying message is allowed for a gift card. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>useConfigAllowMessage</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the settings specified in the store's Configuration section should apply for the Allow Message option. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftWrappingAvailable </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the gift wrapping is allowed. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftWrappingPrice </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Defines the price for the gift wrapping of a product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 5 </td>
</tr>
<tr>
<td style="border:1px solid black;"> isReturnable </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Defines whether a customer will be able to return a product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>targetRules</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> targetRules.<b>related</b> </td>
<td style="border:1px solid black;"> mage:target_rule </td>
<td style="border:1px solid black;"> Contains the IDs of the related products. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> targetRules.<b>upsell</b> </td>
<td style="border:1px solid black;"> mage:target_rule </td>
<td style="border:1px solid black;"> Contains the IDs of the upsell products. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
</table>
</div>

    <div id="js-sidebar" class="sidebar-shell">
      <div class="js-toggle-list sidebar-module expandable">
        <ul>
<li class="js-guides"><h3><a href="../">Overview</a></h3></li>
          <li class="js-guides"><h3><a href="../twig/">Twig Templates</a></h3></li>
          <li class="js-guides"><h3><a href="../service-idl/">Service IDL</a></h3></li>
          <li class="js-guides"><h3><a href="./">Service Implementation</a></h3></li>
          <li class="js-guides"><h3><a href="../webhooks/">Webhooks</a></h3></li>
          <li class="js-guides"><h3><a href="../web-api/">Creating Web APIs</a></h3></li>
          <li class="js-guides"><h3><a href="../option-list/">Extension Configuration</a></h3></li>
        </ul>
</div> <!-- /sidebar-module -->
    </div>
<!-- /sidebar-shell -->

    </div>
<!-- #wrapper -->

    <div id="footer">
      <div class="upper_footer">
        <div class="footer_inner clearfix">

        <!--[if IE]><h4 id="blacktocat_ie">GitHub Links</h4><![endif]-->
        <h4 id="blacktocat">GitHub Links</h4>

        <ul class="footer_nav">
<h4>GitHub</h4>
          <li><a href="https://github.com/about">About</a></li>
          <li><a href="https://github.com/blog">Blog</a></li>
          <li><a href="https://github.com/features">Features</a></li>
          <li><a href="https://github.com/contact">Contact &amp; Support</a></li>
          <li><a href="https://github.com/training">Training</a></li>
          <li><a href="http://status.github.com/">Site Status</a></li>
        </ul>
<ul class="footer_nav">
<h4>Tools</h4>
          <li><a href="http://mac.github.com/">GitHub for Mac</a></li>
          <li><a href="http://mobile.github.com/">Issues for iPhone</a></li>
          <li><a href="https://gist.github.com">Gist: Code Snippets</a></li>
          <li><a href="http://enterprise.github.com/">GitHub Enterprise</a></li>
          <li><a href="http://jobs.github.com/">Job Board</a></li>
        </ul>
<ul class="footer_nav">
<h4>Extras</h4>
          <li><a href="http://shop.github.com/">GitHub Shop</a></li>
          <li><a href="http://octodex.github.com/">The Octodex</a></li>
        </ul>
<ul class="footer_nav">
<h4>Documentation</h4>
          <li><a href="http://help.github.com/">GitHub Help</a></li>
          <li><a href="http://developer.github.com/">Developer API</a></li>
          <li><a href="http://github.github.com/github-flavored-markdown/">GitHub Flavored Markdown</a></li>
          <li><a href="http://pages.github.com/">GitHub Pages</a></li>
        </ul>
</div>
<!-- /.site -->
      </div>
<!-- /.upper_footer -->

      <div class="lower_footer">
        <div class="footer_inner clearfix">
            <div id="legal">
              <!--[if IE]><a class="home_ie" href="http://github.com">Home</a><![endif]-->
              <a class="home" href="http://github.com">Home</a>

              <ul id="legal_links">
<li><a href="http://help.github.com/terms-of-service/">Terms of Service</a></li>
                <li><a href="http://help.github.com/privacy-policy/">Privacy</a></li>
                <li><a href="http://help.github.com/security/">Security</a></li>
              </ul>
<p>Â© <span id="year">year</span> GitHub Inc. All rights reserved.</p>
            </div>
<!-- /#legal or /#legal_ie-->
        </div>
<!-- /.site -->
      </div>
<!-- /.lower_footer -->
    </div>
<!-- /#footer -->
    <script type="text/javascript">
      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '4f2038e0cb25bc1b55000003');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
</body>
</html>
;T;	I"­‰Service Implementation
======================

This is the proposed model for implementing Magento services. Using a service
layer with interfaces described by service IDLs provides the following
advantages for developing and maintaining Magento extensions:

-   A service encapsulates domain/business logic in a single component.

-   Multiple implementations of a service can be supported in the same Magento
    instance.

-   A service's owner controls  the quality of the service component, because
    other components are restricted from directly modifying the implementation.

-   Data access becomes a private concern of the service implementation, which
    increases predictability and compatibility.

-   A service can be exposed as a Web API. To see how this is done, check out
    [Creating Web APIs][1].

[1]: <http://magento.github.io/magento2-developer-docs/web-api/>

-   The data are defined declaratively in schemas, rather than in PHP classes.

Implementing a Service
----------------------

The first step in creating a service component is to define the service using
the service IDL.

Once you have defined a service IDL, you implement the service using a PHP
class. You make the public methods of this PHP class available to your
extension's presentation layer, which uses the methods to access data.

As an example, the documentation for the Product service IDL [here][2] describes
how to define a service using the service IDL.

[2]: <http://magento.github.io/magento2-developer-docs/service-idl/>

The source code for Product service is [here][4]

[4]: <https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/Service/Product.php>

The service has a method, `item` (<i>line 117</i>). The method takes a single
parameter, which is the product ID, and retrieves product data in an array
defined by the response schema.

The `@Consumes` annotation names the schema for the request, and `@Produces`
annotation names the schema for the response defined in the IDL. (By the way,
`@Version` refers to the version of the service, not the individual call.)

The business logic for the service method is implemented using models and
resource models.

Once you have implemented the service as a PHP class, you make the public
methods of the service available to the presentation tier components by
declaring the service-calls in [service-calls.xml][5].

[5]: <https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/service-calls.xml>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

<service-calls>
    <service-call name="selectedProductDetails" service="Mage_Catalog_Service_Product" method="item">
        <arg name="productId">{{request.params.id}}</arg>
    </service-call>

    <service-call name="selectedProductOptions" service="Mage_Catalog_Service_Product" method="getOptions">
        <arg name="productId">{{request.params.id}}</arg>
    </service-call>


    <service-call name="relatedProducts" service="Mage_Catalog_Service_Product" method="getRelatedProducts">
        <arg name="productId">{{request.params.id}}</arg>
    </service-call>
</service-calls>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Once the service is implemented and its service methods are declared as
service-calls, you invoke the service-call by including the following
declaration in layout.xml

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

<block type="Mage_Catalog_Block_Product_Twig" module="Mage_Catalog" name="product.info"
                   template="Mage_Catalog::product/view.twig">
	<data service-call="selectedProductDetails" alias="product" />
	...
	...
</block>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The Product service-calls are invoked in the Catalog Product layout when
rendering the templates for the Product View page. For details, you can refer to
the [layout.xml][6] for Catalog Product.

[6]: <https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/view/frontend/layout.xml>

Below are details of the input and output data schema for Product service item
method.

### Input Schema 

This schema defines the service's single request parameter.

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> Name </th>
<th style="border:1px solid black;"> Type </th>
<th style="border:1px solid black;"> Description </th>
<th style="border:1px solid black;"> Sample </th>
</tr>
<tr>
<td style="border:1px solid black;"> <b>id</b> </td>
<td style="border:1px solid black;"> xs:integer </td>
<td style="border:1px solid black;"> The product ID number </td>
<td style="border:1px solid black;"> 1234 </td>
</tr>
</table>

### Output Schema

This schema defines the array to be returned  by the product service item
method.

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> Name </th>
<th style="border:1px solid black;"> Type </th>
<th style="border:1px solid black;"> Description </th>
<th style="border:1px solid black;"> Sample </th>
</tr>

<tr>
<td style="border:1px solid black;"> <b>product</b> </td>
<td style="border:1px solid black;"> <b>mage:product</b> </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> product.<b>data</b></td> 
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> product.<b>relatedData</b></td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> <b>dictionary</b></td>
<td style="border:1px solid black;"> Complex type </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> dictionary.<b>urlInStore</b></td>
<td style="border:1px solid black;"> xs:anyURI </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> dictionary.<b>urlPath</b></td>
<td style="border:1px solid black;"> xs:string </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> dictionary<strong>url</strong></td>
<td style="border:1px solid black;">  xs.anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> dictionary.<strong>submitUrl</strong></td>  
<td style="border:1px solid black;">xs.anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> dictionary.<strong>compareURL</strong></td>
<td style="border:1px solid black;"> xs:anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> dictionary.<strong>compareURL</strong></td>
<td style="border:1px solid black;"> xs:anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> dictionary.<strong>fileViewURL</strong></td>
<td style="border:1px solid black;"> xs:anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> dictionary.<strong>emailToFriendURL</strong></td>
<td style="border:1px solid black;">xs:anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> dictionary.<strong>canEmailToFriend</strong></td>
<td style="border:1px solid black;"> xs:anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> dictionary.<strong>hasOptions</strong></td>
<td style="border:1px solid black;"> xs:boolean</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> dictionary.<strong>wishListDataAllowed</strong></td>
<td style="border:1px solid black;">xs:boolean</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> dictionary.<strong>optionsContainer</strong></td>
<td style="border:1px solid black;"> xs:string</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> dictionary.<strong>jsonConfig</strong></td>
<td style="border:1px solid black;"> xs:string</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> dictionary.<strong>isSaleable</strong></td>
<td style="border:1px solid black;"> xs:boolean</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>

<tr>
<td style="border:1px solid black;"> dictionary.<strong>formattedPrice</strong></td>
<td style="border:1px solid black;"> xs:string</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
</table>

<p> The table below documents complex type Product from the above schema </p>

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> Name </th>
<th style="border:1px solid black;"> Type </th>
<th style="border:1px solid black;"> Description </th>
<th style="border:1px solid black;"> Sample </th>
</tr>

<tr>
<td style="border:1px solid black;"> name </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product name. <b>Required</b>. </td>
<td style="border:1px solid black;"> New product </td>
</tr>
<tr>
<td style="border:1px solid black;"> sku </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product SKU. Constrains: maxLength value = 64. <b>Required</b>. </td>
<td style="border:1px solid black;"> new_product </td>
</tr>
<tr>
<td style="border:1px solid black;"> description </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product description. <b>Required</b>.  </td>
<td style="border:1px solid black;"> This is a new product.  </td>
</tr>
<tr>
<td style="border:1px solid black;"> shortDescription </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product short description. <b>Required</b>. </td>
<td style="border:1px solid black;"> A new product.  </td>
</tr>
<tr>
<td style="border:1px solid black;"> price </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Product price. <b>Required</b>.  </td>
<td style="border:1px solid black;"> 200 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>specialPrice</b> </td>
<td style="border:1px solid black;"> complex type </td>
<td style="border:1px solid black;">   </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> specialPrice.<b>specialPrice</b> </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Product special price. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 150 </td>
</tr>
<tr>
<td style="border:1px solid black;"> specialPrice.<b>specialFromDate</b> </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date starting from which the special price will be applied to the product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> specialPrice.<b>specialToDate</b> </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date till which the special price will be applied to the product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000  </td>
</tr>
<tr>
<td style="border:1px solid black;"> cost </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Product cost. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 100 </td>
</tr>
<tr>
<td style="border:1px solid black;"> weight </td>
<td style="border:1px solid black;"> decimal </td>
<td style="border:1px solid black;"> Product weight. <b>Required</b>. </td>
<td style="border:1px solid black;"> 0.5 </td>
</tr>
<tr>
<td style="border:1px solid black;"> manufacturer </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Product manufacturer. <b>Optional</b>. </td>
<td style="border:1px solid black;"> Test manufacturer </td>
</tr>
<tr>
<td style="border:1px solid black;"> metaTitle </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product meta title. <b>Optional</b>. </td>
<td style="border:1px solid black;"> new product  </td>
</tr>
<tr>
<td style="border:1px solid black;"> metaKeyword </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product meta keywords. <b>Optional</b>. </td>
<td style="border:1px solid black;"> new, product </td>
</tr>
<tr>
<td style="border:1px solid black;"> metaDescription </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product meta description. Constrains: maxLength value = 255. <b>Optional</b>. </td>
<td style="border:1px solid black;"> This is a new product  </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>images</b>  </td>
<td style="border:1px solid black;"> complex type  </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> images.<b>image</b> </td>
<td style="border:1px solid black;"> mage:image_type </td>
<td style="border:1px solid black;"> Product image. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> images.<b>smallImage</b> </td>
<td style="border:1px solid black;"> mage:image_type </td>
<td style="border:1px solid black;"> Product small image. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> images.<b>thumbnail</b> </td>
<td style="border:1px solid black;"> mage:image_type </td>
<td style="border:1px solid black;"> Product thumbnail image. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> mediaGallery </td>
<td style="border:1px solid black;"> mage:media_gallery </td>
<td style="border:1px solid black;"> Product images. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> oldId </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Original system ID assigned to the product, if a catalog has been imported from legacy system. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 123 </td>
</tr>
<tr>
<td style="border:1px solid black;"> groupPrice </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Product group price. <b>Optional</b>. </td>
<td style="border:1px solid black;"> array of group price </td>
</tr>
<tr>
<td style="border:1px solid black;"> tierPrice </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Product tier price. <b>Optional</b>. </td>
<td style="border:1px solid black;"> array of tier price  </td>
</tr>
<tr>
<td style="border:1px solid black;"> color </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Product color. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> newsFromDate </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date starting from which the product is promoted as a new product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000  </td>
</tr>
<tr>
<td style="border:1px solid black;"> newsToDate </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date till which the product is promoted as a new product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> gallery </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> status </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Product status. Can have the following values: 1- Enabled, 2 - Disabled. <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> urlKey </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> A friendly URL path for the product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> new-product  </td>
</tr>
<tr>
<td style="border:1px solid black;"> urlPath </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> minimalPrice </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Minimal price of the product. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> isRecurring </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the product is recurring. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> recurringProfile </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Information about the recurring payments. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> visibility </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Product visibility. Can have the following values: 1 - Not Visible Individually, 2 - Catalog, 3 - Search, 4 - Catalog, Search. <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> customDesign </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Custom design applied for the product page. <b>Optional</b>. </td>
<td style="border:1px solid black;"> enterprise/default  </td>
</tr>
<tr>
<td style="border:1px solid black;"> customDesignFrom </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date starting from which the custom design will be applied to the product page. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> customDesignTo </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date till which the custom design will be applied to the product page. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> customLayoutUpdate </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> An XML block to alter the page layout. <b>Optional</b>. </td>
<td style="border:1px solid black;"> XML body </td>
</tr>
<tr>
<td style="border:1px solid black;"> pageLayout </td>
<td style="border:1px solid black;"> mage:string_label_array </td>
<td style="border:1px solid black;"> Page template that can be applied to the product page. <b>Optional</b>. </td>
<td style="border:1px solid black;"> one_column </td>
</tr>
<tr>
<td style="border:1px solid black;"> categoryIds </td>
<td style="border:1px solid black;"> mage:string_label_array </td>
<td style="border:1px solid black;"> Contains the category(s) ID (s) to which a product belongs. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> optionsContainer </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Defines how the custom options for the product will be displayed. Can have the following values: Block after Info Column or Product Info Column. <b>Optional</b>. </td>
<td style="border:1px solid black;"> container2 </td>
</tr>
<tr>
<td style="border:1px solid black;"> requiredOptions </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether specifying the product option is mandatory or not. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> hasOptions </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether a product has the custom options or not. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> createdAt </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Defines the date of a product creation. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> updatedAt </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Defines the date of a product update. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> countryOfManufacture </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product's country of manufacture. <b>Optional</b>. </td>
<td style="border:1px solid black;"> AD </td>
</tr>
<tr>
<td style="border:1px solid black;"> msrpEnabled </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> The Apply MAP option. Defines whether the price in the catalog in the frontend is substituted with a Click for price link. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> msrpDisplayActualPriceType </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Defines how the price will be displayed in the frontend. Can have the following values: In Cart, Before Order Confirmation, and On Gesture. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2 </td>
</tr>
<tr>
<td style="border:1px solid black;"> msrp </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> The Manufacturer's Suggested Retail Price option. The price that a manufacturer suggests to sell the product at. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 140 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>quantityAndStockStatus</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> quantityAndStockStatus.<b>isInStock</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the product is available for selling. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> quantityAndStockStatus.<b>qty</b> </td>
<td style="border:1px solid black;"> decimal </td>
<td style="border:1px solid black;"> Quantity of stock items for the current product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 99 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>bundle</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> bundle.<b>priceType</b> </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Defines whether the bundle product price is Dynamic or Fixed. <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> bundle.<b>skuType</b> </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Defined whether the bundle product SKU is Dynamic or Fixed. <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> bundle.<b>weightType</b> </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Defined whether the bundle product weight is Dynamic or Fixed. <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> bundle.<b>priceView</b> </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Defined whether the bundle product price should display as "Price Range" or "As Low as." <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> bundle.<b>shipmentType</b> </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Defines whether the bundle items are to be shipped together or separately. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>downloadable</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> downloadable.<b>linksPurchasedSeparately</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the downloadable product links could be purchased separately. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> downloadable.<b>samplesTitle</b> </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Title of the downloadable product sample. <b>Optional</b>. </td>
<td style="border:1px solid black;"> Sample </td>
</tr>
<tr>
<td style="border:1px solid black;"> downloadable.<b>linksTitle</b> </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Title of the downloadable product link. <b>Optional</b>. </td>
<td style="border:1px solid black;"> Links </td>
</tr>
<tr>
<td style="border:1px solid black;"> downloadable.<b>linksExist</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftMessageAvailable </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the gift message is available for the product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> taxClassId </td>
<td style="border:1px solid black;"> mage:string_label </td>
<td style="border:1px solid black;"> Product tax class. Can have the following values: 0 - None, 2 - taxable Goods, 4 - Shipping, etc., depending on created tax classes. <b>Required</b>. </td>
<td style="border:1px solid black;"> 7 </td>
</tr>
<tr>
<td style="border:1px solid black;"> enableGooglecheckout </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the product can be purchased with the help of the Google Checkout payment service. Can have the following values: Yes and No. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>giftcard</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>giftcard.giftcardAmounts</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;"> Defines the available amounts for the gift card product. <b>Required</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.giftcardAmounts.<b>amount</b> </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Defines the amount for a gift card. Constrains: maxOccurs = unbounded. <b>Required</b>. </td>
<td style="border:1px solid black;"> 20 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>allowOpenAmount</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the open amount is allowed for a gift card. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>openAmountMin</b> </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Defines the minimal amount of a gift card if the open amount is allowed. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 5 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>openAmountMax</b> </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Defines the maximal amount of a gift card if the open amount is allowed. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 100 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>giftcardType</b> </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Defines the type of a gift card: Virtual, Physical, or Combined. <b>Required</b>. </td>
<td style="border:1px solid black;"> 2 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>isRedeemable</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the card is redeemable. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>useConfigIsRedeemable</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the settings specified in the store's Configuration section should apply for the Is Redeemable option. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>lifetime</b> </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Defines for how many days a gift card is valid. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 3 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>useConfigLifetime</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the settings specified in the store's Configuration section should apply for the Lifetime option. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>emailTemplate</b> </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Defines which email template should be used for a gift card. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>useConfigEmailTemplate</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the settings specified in the store's Configuration section should apply for the Email Template option. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>allowMessage</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the accompanying message is allowed for a gift card. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>useConfigAllowMessage</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the settings specified in the store's Configuration section should apply for the Allow Message option. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftWrappingAvailable </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the gift wrapping is allowed. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftWrappingPrice </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Defines the price for the gift wrapping of a product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 5 </td>
</tr>
<tr>
<td style="border:1px solid black;"> isReturnable </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Defines whether a customer will be able to return a product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>targetRules</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> targetRules.<b>related</b> </td>
<td style="border:1px solid black;"> mage:target_rule </td>
<td style="border:1px solid black;"> Contains the IDs of the related products. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> targetRules.<b>upsell</b> </td>
<td style="border:1px solid black;"> mage:target_rule </td>
<td style="border:1px solid black;"> Contains the IDs of the upsell products. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
</table>


;T;
I"JŠ<h1 id="service-implementation">Service Implementation</h1>

<p>This is the proposed model for implementing Magento services. Using a service
layer with interfaces described by service IDLs provides the following
advantages for developing and maintaining Magento extensions:</p>

<ul>
<li>
    <p>A service encapsulates domain/business logic in a single component.</p>
  </li>
  <li>
    <p>Multiple implementations of a service can be supported in the same Magento
instance.</p>
  </li>
  <li>
    <p>A serviceâ€™s owner controls  the quality of the service component, because
other components are restricted from directly modifying the implementation.</p>
  </li>
  <li>
    <p>Data access becomes a private concern of the service implementation, which
increases predictability and compatibility.</p>
  </li>
  <li>
    <p>A service can be exposed as a Web API. To see how this is done, check out
<a href="http://magento.github.io/magento2-developer-docs/web-api/">Creating Web APIs</a>.</p>
  </li>
</ul><ul>
<li>The data are defined declaratively in schemas, rather than in PHP classes.</li>
</ul><h2 id="implementing-a-service">Implementing a Service</h2>

<p>The first step in creating a service component is to define the service using
the service IDL.</p>

<p>Once you have defined a service IDL, you implement the service using a PHP
class. You make the public methods of this PHP class available to your
extensionâ€™s presentation layer, which uses the methods to access data.</p>

<p>As an example, the documentation for the Product service IDL <a href="http://magento.github.io/magento2-developer-docs/service-idl/">here</a> describes
how to define a service using the service IDL.</p>

<p>The source code for Product service is <a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/Service/Product.php">here</a></p>

<p>The service has a method, <code>item</code> (<i>line 117</i>). The method takes a single
parameter, which is the product ID, and retrieves product data in an array
defined by the response schema.</p>

<p>The <code>@Consumes</code> annotation names the schema for the request, and <code>@Produces</code>
annotation names the schema for the response defined in the IDL. (By the way,
<code>@Version</code> refers to the version of the service, not the individual call.)</p>

<p>The business logic for the service method is implemented using models and
resource models.</p>

<p>Once you have implemented the service as a PHP class, you make the public
methods of the service available to the presentation tier components by
declaring the service-calls in <a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/etc/service-calls.xml">service-calls.xml</a>.</p>

<pre><code>
&lt;service-calls&gt;
    &lt;service-call name="selectedProductDetails" service="Mage_Catalog_Service_Product" method="item"&gt;
        &lt;arg name="productId"&gt;{{request.params.id}}&lt;/arg&gt;
    &lt;/service-call&gt;

    &lt;service-call name="selectedProductOptions" service="Mage_Catalog_Service_Product" method="getOptions"&gt;
        &lt;arg name="productId"&gt;{{request.params.id}}&lt;/arg&gt;
    &lt;/service-call&gt;


    &lt;service-call name="relatedProducts" service="Mage_Catalog_Service_Product" method="getRelatedProducts"&gt;
        &lt;arg name="productId"&gt;{{request.params.id}}&lt;/arg&gt;
    &lt;/service-call&gt;
&lt;/service-calls&gt;

</code></pre>

<p>Once the service is implemented and its service methods are declared as
service-calls, you invoke the service-call by including the following
declaration in layout.xml</p>

<pre><code>
&lt;block type="Mage_Catalog_Block_Product_Twig" module="Mage_Catalog" name="product.info"
                   template="Mage_Catalog::product/view.twig"&gt;
	&lt;data service-call="selectedProductDetails" alias="product" /&gt;
	...
	...
&lt;/block&gt;

</code></pre>

<p>The Product service-calls are invoked in the Catalog Product layout when
rendering the templates for the Product View page. For details, you can refer to
the <a href="https://github.com/magento/magento2/blob/master/app/code/Mage/Catalog/view/frontend/layout.xml">layout.xml</a> for Catalog Product.</p>

<p>Below are details of the input and output data schema for Product service item
method.</p>

<h3 id="input-schema">Input Schema</h3>

<p>This schema defines the serviceâ€™s single request parameter.</p>

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> Name </th>
<th style="border:1px solid black;"> Type </th>
<th style="border:1px solid black;"> Description </th>
<th style="border:1px solid black;"> Sample </th>
</tr>
<tr>
<td style="border:1px solid black;"> <b>id</b> </td>
<td style="border:1px solid black;"> xs:integer </td>
<td style="border:1px solid black;"> The product ID number </td>
<td style="border:1px solid black;"> 1234 </td>
</tr>
</table><h3 id="output-schema">Output Schema</h3>

<p>This schema defines the array to be returned  by the product service item
method.</p>

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> Name </th>
<th style="border:1px solid black;"> Type </th>
<th style="border:1px solid black;"> Description </th>
<th style="border:1px solid black;"> Sample </th>
</tr>
<tr>
<td style="border:1px solid black;"> <b>product</b> </td>
<td style="border:1px solid black;"> <b>mage:product</b> </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> product.<b>data</b>
</td> 
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> product.<b>relatedData</b>
</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>dictionary</b>
</td>
<td style="border:1px solid black;"> Complex type </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<b>urlInStore</b>
</td>
<td style="border:1px solid black;"> xs:anyURI </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<b>urlPath</b>
</td>
<td style="border:1px solid black;"> xs:string </td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary<strong>url</strong>
</td>
<td style="border:1px solid black;">  xs.anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>submitUrl</strong>
</td>  
<td style="border:1px solid black;">xs.anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>compareURL</strong>
</td>
<td style="border:1px solid black;"> xs:anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>compareURL</strong>
</td>
<td style="border:1px solid black;"> xs:anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>fileViewURL</strong>
</td>
<td style="border:1px solid black;"> xs:anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>emailToFriendURL</strong>
</td>
<td style="border:1px solid black;">xs:anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>canEmailToFriend</strong>
</td>
<td style="border:1px solid black;"> xs:anyURI</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>hasOptions</strong>
</td>
<td style="border:1px solid black;"> xs:boolean</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>wishListDataAllowed</strong>
</td>
<td style="border:1px solid black;">xs:boolean</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>optionsContainer</strong>
</td>
<td style="border:1px solid black;"> xs:string</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>jsonConfig</strong>
</td>
<td style="border:1px solid black;"> xs:string</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>isSaleable</strong>
</td>
<td style="border:1px solid black;"> xs:boolean</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
<tr>
<td style="border:1px solid black;"> dictionary.<strong>formattedPrice</strong>
</td>
<td style="border:1px solid black;"> xs:string</td>
<td style="border:1px solid black;"> <b></b> </td>
<td style="border:1px solid black;"> <b></b> </td>
</tr>
</table><p> The table below documents complex type Product from the above schema </p>

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> Name </th>
<th style="border:1px solid black;"> Type </th>
<th style="border:1px solid black;"> Description </th>
<th style="border:1px solid black;"> Sample </th>
</tr>
<tr>
<td style="border:1px solid black;"> name </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product name. <b>Required</b>. </td>
<td style="border:1px solid black;"> New product </td>
</tr>
<tr>
<td style="border:1px solid black;"> sku </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product SKU. Constrains: maxLength value = 64. <b>Required</b>. </td>
<td style="border:1px solid black;"> new_product </td>
</tr>
<tr>
<td style="border:1px solid black;"> description </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product description. <b>Required</b>.  </td>
<td style="border:1px solid black;"> This is a new product.  </td>
</tr>
<tr>
<td style="border:1px solid black;"> shortDescription </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product short description. <b>Required</b>. </td>
<td style="border:1px solid black;"> A new product.  </td>
</tr>
<tr>
<td style="border:1px solid black;"> price </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Product price. <b>Required</b>.  </td>
<td style="border:1px solid black;"> 200 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>specialPrice</b> </td>
<td style="border:1px solid black;"> complex type </td>
<td style="border:1px solid black;">   </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> specialPrice.<b>specialPrice</b> </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Product special price. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 150 </td>
</tr>
<tr>
<td style="border:1px solid black;"> specialPrice.<b>specialFromDate</b> </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date starting from which the special price will be applied to the product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> specialPrice.<b>specialToDate</b> </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date till which the special price will be applied to the product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000  </td>
</tr>
<tr>
<td style="border:1px solid black;"> cost </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Product cost. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 100 </td>
</tr>
<tr>
<td style="border:1px solid black;"> weight </td>
<td style="border:1px solid black;"> decimal </td>
<td style="border:1px solid black;"> Product weight. <b>Required</b>. </td>
<td style="border:1px solid black;"> 0.5 </td>
</tr>
<tr>
<td style="border:1px solid black;"> manufacturer </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Product manufacturer. <b>Optional</b>. </td>
<td style="border:1px solid black;"> Test manufacturer </td>
</tr>
<tr>
<td style="border:1px solid black;"> metaTitle </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product meta title. <b>Optional</b>. </td>
<td style="border:1px solid black;"> new product  </td>
</tr>
<tr>
<td style="border:1px solid black;"> metaKeyword </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product meta keywords. <b>Optional</b>. </td>
<td style="border:1px solid black;"> new, product </td>
</tr>
<tr>
<td style="border:1px solid black;"> metaDescription </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product meta description. Constrains: maxLength value = 255. <b>Optional</b>. </td>
<td style="border:1px solid black;"> This is a new product  </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>images</b>  </td>
<td style="border:1px solid black;"> complex type  </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> images.<b>image</b> </td>
<td style="border:1px solid black;"> mage:image_type </td>
<td style="border:1px solid black;"> Product image. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> images.<b>smallImage</b> </td>
<td style="border:1px solid black;"> mage:image_type </td>
<td style="border:1px solid black;"> Product small image. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> images.<b>thumbnail</b> </td>
<td style="border:1px solid black;"> mage:image_type </td>
<td style="border:1px solid black;"> Product thumbnail image. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> mediaGallery </td>
<td style="border:1px solid black;"> mage:media_gallery </td>
<td style="border:1px solid black;"> Product images. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> oldId </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Original system ID assigned to the product, if a catalog has been imported from legacy system. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 123 </td>
</tr>
<tr>
<td style="border:1px solid black;"> groupPrice </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Product group price. <b>Optional</b>. </td>
<td style="border:1px solid black;"> array of group price </td>
</tr>
<tr>
<td style="border:1px solid black;"> tierPrice </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Product tier price. <b>Optional</b>. </td>
<td style="border:1px solid black;"> array of tier price  </td>
</tr>
<tr>
<td style="border:1px solid black;"> color </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Product color. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> newsFromDate </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date starting from which the product is promoted as a new product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000  </td>
</tr>
<tr>
<td style="border:1px solid black;"> newsToDate </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date till which the product is promoted as a new product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> gallery </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> status </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Product status. Can have the following values: 1- Enabled, 2 - Disabled. <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> urlKey </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> A friendly URL path for the product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> new-product  </td>
</tr>
<tr>
<td style="border:1px solid black;"> urlPath </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> minimalPrice </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Minimal price of the product. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> isRecurring </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the product is recurring. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> recurringProfile </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Information about the recurring payments. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> visibility </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Product visibility. Can have the following values: 1 - Not Visible Individually, 2 - Catalog, 3 - Search, 4 - Catalog, Search. <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> customDesign </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Custom design applied for the product page. <b>Optional</b>. </td>
<td style="border:1px solid black;"> enterprise/default  </td>
</tr>
<tr>
<td style="border:1px solid black;"> customDesignFrom </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date starting from which the custom design will be applied to the product page. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> customDesignTo </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Date till which the custom design will be applied to the product page. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> customLayoutUpdate </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> An XML block to alter the page layout. <b>Optional</b>. </td>
<td style="border:1px solid black;"> XML body </td>
</tr>
<tr>
<td style="border:1px solid black;"> pageLayout </td>
<td style="border:1px solid black;"> mage:string_label_array </td>
<td style="border:1px solid black;"> Page template that can be applied to the product page. <b>Optional</b>. </td>
<td style="border:1px solid black;"> one_column </td>
</tr>
<tr>
<td style="border:1px solid black;"> categoryIds </td>
<td style="border:1px solid black;"> mage:string_label_array </td>
<td style="border:1px solid black;"> Contains the category(s) ID (s) to which a product belongs. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> optionsContainer </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Defines how the custom options for the product will be displayed. Can have the following values: Block after Info Column or Product Info Column. <b>Optional</b>. </td>
<td style="border:1px solid black;"> container2 </td>
</tr>
<tr>
<td style="border:1px solid black;"> requiredOptions </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether specifying the product option is mandatory or not. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> hasOptions </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether a product has the custom options or not. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> createdAt </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Defines the date of a product creation. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> updatedAt </td>
<td style="border:1px solid black;"> dateTime </td>
<td style="border:1px solid black;"> Defines the date of a product update. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2005-08-15T15:52:01+0000 </td>
</tr>
<tr>
<td style="border:1px solid black;"> countryOfManufacture </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Product's country of manufacture. <b>Optional</b>. </td>
<td style="border:1px solid black;"> AD </td>
</tr>
<tr>
<td style="border:1px solid black;"> msrpEnabled </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> The Apply MAP option. Defines whether the price in the catalog in the frontend is substituted with a Click for price link. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> msrpDisplayActualPriceType </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Defines how the price will be displayed in the frontend. Can have the following values: In Cart, Before Order Confirmation, and On Gesture. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 2 </td>
</tr>
<tr>
<td style="border:1px solid black;"> msrp </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> The Manufacturer's Suggested Retail Price option. The price that a manufacturer suggests to sell the product at. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 140 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>quantityAndStockStatus</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> quantityAndStockStatus.<b>isInStock</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the product is available for selling. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> quantityAndStockStatus.<b>qty</b> </td>
<td style="border:1px solid black;"> decimal </td>
<td style="border:1px solid black;"> Quantity of stock items for the current product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 99 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>bundle</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> bundle.<b>priceType</b> </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Defines whether the bundle product price is Dynamic or Fixed. <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> bundle.<b>skuType</b> </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Defined whether the bundle product SKU is Dynamic or Fixed. <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> bundle.<b>weightType</b> </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Defined whether the bundle product weight is Dynamic or Fixed. <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> bundle.<b>priceView</b> </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Defined whether the bundle product price should display as "Price Range" or "As Low as." <b>Required</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> bundle.<b>shipmentType</b> </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Defines whether the bundle items are to be shipped together or separately. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>downloadable</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> downloadable.<b>linksPurchasedSeparately</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the downloadable product links could be purchased separately. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> downloadable.<b>samplesTitle</b> </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Title of the downloadable product sample. <b>Optional</b>. </td>
<td style="border:1px solid black;"> Sample </td>
</tr>
<tr>
<td style="border:1px solid black;"> downloadable.<b>linksTitle</b> </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Title of the downloadable product link. <b>Optional</b>. </td>
<td style="border:1px solid black;"> Links </td>
</tr>
<tr>
<td style="border:1px solid black;"> downloadable.<b>linksExist</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftMessageAvailable </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the gift message is available for the product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> taxClassId </td>
<td style="border:1px solid black;"> mage:string_label </td>
<td style="border:1px solid black;"> Product tax class. Can have the following values: 0 - None, 2 - taxable Goods, 4 - Shipping, etc., depending on created tax classes. <b>Required</b>. </td>
<td style="border:1px solid black;"> 7 </td>
</tr>
<tr>
<td style="border:1px solid black;"> enableGooglecheckout </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the product can be purchased with the help of the Google Checkout payment service. Can have the following values: Yes and No. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>giftcard</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>giftcard.giftcardAmounts</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;"> Defines the available amounts for the gift card product. <b>Required</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.giftcardAmounts.<b>amount</b> </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Defines the amount for a gift card. Constrains: maxOccurs = unbounded. <b>Required</b>. </td>
<td style="border:1px solid black;"> 20 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>allowOpenAmount</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the open amount is allowed for a gift card. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>openAmountMin</b> </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Defines the minimal amount of a gift card if the open amount is allowed. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 5 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>openAmountMax</b> </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Defines the maximal amount of a gift card if the open amount is allowed. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 100 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>giftcardType</b> </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Defines the type of a gift card: Virtual, Physical, or Combined. <b>Required</b>. </td>
<td style="border:1px solid black;"> 2 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>isRedeemable</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the card is redeemable. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>useConfigIsRedeemable</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the settings specified in the store's Configuration section should apply for the Is Redeemable option. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>lifetime</b> </td>
<td style="border:1px solid black;"> integer </td>
<td style="border:1px solid black;"> Defines for how many days a gift card is valid. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 3 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>useConfigLifetime</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the settings specified in the store's Configuration section should apply for the Lifetime option. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>emailTemplate</b> </td>
<td style="border:1px solid black;"> string </td>
<td style="border:1px solid black;"> Defines which email template should be used for a gift card. <b>Optional</b>. </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>useConfigEmailTemplate</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the settings specified in the store's Configuration section should apply for the Email Template option. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>allowMessage</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the accompanying message is allowed for a gift card. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftcard.<b>useConfigAllowMessage</b> </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the settings specified in the store's Configuration section should apply for the Allow Message option. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftWrappingAvailable </td>
<td style="border:1px solid black;"> boolean </td>
<td style="border:1px solid black;"> Defines whether the gift wrapping is allowed. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> giftWrappingPrice </td>
<td style="border:1px solid black;"> mage:price </td>
<td style="border:1px solid black;"> Defines the price for the gift wrapping of a product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 5 </td>
</tr>
<tr>
<td style="border:1px solid black;"> isReturnable </td>
<td style="border:1px solid black;"> mage:integer_label </td>
<td style="border:1px solid black;"> Defines whether a customer will be able to return a product. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> <b>targetRules</b> </td>
<td style="border:1px solid black;"> complexType </td>
<td style="border:1px solid black;">  </td>
<td style="border:1px solid black;">  </td>
</tr>
<tr>
<td style="border:1px solid black;"> targetRules.<b>related</b> </td>
<td style="border:1px solid black;"> mage:target_rule </td>
<td style="border:1px solid black;"> Contains the IDs of the related products. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
<tr>
<td style="border:1px solid black;"> targetRules.<b>upsell</b> </td>
<td style="border:1px solid black;"> mage:target_rule </td>
<td style="border:1px solid black;"> Contains the IDs of the upsell products. <b>Optional</b>. </td>
<td style="border:1px solid black;"> 1 </td>
</tr>
</table>;T;@I"/twig/;T{;{	;I"Û0<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="imagetoolbar" content="false">
<meta name="MSSmartTagsPreventParsing" content="true">
<title></title>
<link href="../css/reset.css" rel="stylesheet" type="text/css">
<link href="../css/960.css" rel="stylesheet" type="text/css">
<link href="../css/uv_active4d.css" rel="stylesheet" type="text/css">
<link href="../shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
<link href="../shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css">
<script src="../shared/js/jquery.js" type="text/javascript"></script><script src="../shared/js/documentation.js" type="text/javascript"></script>
</head>
<body class="api">
    <div id="header-wrapper">
      <div id="header">
        <div>
          <a class="logo" href="../"><img src="../images/logo_developer.png" width="161" height="47" alt="GitHub:Developer"></a>
          <ul class="nav">
<li><a href="../">Home</a></li>
            <li><a href="../vmimage">VM Image</a></li>
            <li><a href="https://getsatisfaction.com/magento-2-prerelease">Feedback</a></li>
          </ul>
</div>
      </div>
<!-- #header -->
    </div>
<!-- #header-wrapper -->

    <div id="wrapper">
      <div class="content">
    <h1 id="twig-templates">Twig Templates</h1>

<p>This is a proposal to replace the .phtml templates used for earlier Magento
extensions with a templating engine called Twig.</p>

<p>The move to a templating engine will help enforce a desirable isolation of the
presentation layer from domain and business logic and data, which is a
fundamental goal of Extension Model Improvements. Current .phtml templates allow
inclusion of business logic and SQL queries within the presentation layer, which
can create serious challenges for maintenance and upgrades. We see the following
additional benefits from separating the presentation logic:</p>

<ul>
<li>
    <p>Theme switching becomes much easier and more predictable, because themes are
confined to presentation logic and wonâ€™t need to be disentangled from domain
and business logic.</p>
  </li>
  <li>
    <p>Theme and template security issues are much reduced, for the same reason.</p>
  </li>
  <li>
    <p>Designers can change templates with more confidenceâ€“again, for the same
reason.</p>
  </li>
</ul>
<h2 id="about-twig">About Twig</h2>

<p>We chose Twig because integrating it into Magento will give you the following
features and benefits:</p>

<ul>
<li>
    <p>Twig is concise. Gone are the days of the unavoidably messy .phtml files,
since the page html is separate from the code that populates the page. See
theÂ <a href="#before-after">before and after comparison</a>Â below to check out the difference.</p>
  </li>
  <li>
    <p>The separation of front-end concerns from implementation concerns enables
you to hire the best front-end designers while ensuring that your PHP
developers work on what they do best.</p>
  </li>
  <li>
    <p>Twig autoescapes by default, ensuring that your pages will avoid
embarrassing mistakes that can happen if you forget to wrap output
inÂ <em>htmlspecialchars</em>.</p>
  </li>
  <li>
    <p>We havenâ€™t created extra work for you. Your existing PHP templates will
continue working as expected but we hope the improvements offered by Twig
will encourage you to switch soon.</p>
  </li>
</ul>
<p>Learn more aboutÂ <a href="http://twig.sensiolabs.org/">Twig</a>.</p>

<h2 id="twig-vs-phtml">Twig vs. PHTML</h2>

<ul>
<li>
    <p>Twig has cleaner code: you can focus on what your page does without needing
to also parse the business logic embedded in the .phtml code</p>
  </li>
  <li>
    <p>The separation of font-end concerns lets your front-end developer focus
completely on page look-and-feel.</p>
  </li>
  <li>
    <p>Twig is integrated with IDEs. Twig files are handled cleanly by IDEs,
ensuring that your front-end developer is able to spot mistakes in this file
with the help of the IDE instead of repeatedly running to code to see if
anything is wrong. This will result in more productivity.</p>
  </li>
  <li>
    <p>Twigâ€™s code intuitively makes sense. Compare the line â€œ$this-&gt;__..â€ with
â€œ..|translateâ€. Both of them do the same thing but the latter instantly
tells you what is going on, while understanding the former will require a
few lookups in code.</p>
  </li>
</ul>
<h3 id="before-and-after">Before and After</h3>

<pre><code>[1]: &lt;#before-after&gt;
</code></pre>

<p>PHTML</p>

<pre><code>&lt;?php if ($this-&gt;canEmailToFriend()): ?&gt;
  &lt;p class="email-friend"&gt;
    &lt;a href="&lt;?php echo 
      $this-&gt;helper('Mage_Catalog_Helper_Product')
        -&gt;getEmailToFriendUrl($_product) ?&gt;"&gt;
      &lt;?php echo $this-&gt;__('Email to a Friend') ?&gt;
    &lt;/a&gt;
  &lt;/p&gt;
&lt;?php endif; ?&gt;
</code></pre>

<p>Twig</p>

<pre><code>{% if product.canEmailToFriend %}
  &lt;p class="email-friend"&gt;
    &lt;a href="{{ links.emailToFriend }}"&gt;
    {{ 'Email to a Friend'|translate }}
    &lt;/a&gt;
  &lt;/p&gt;
{% endif %}
</code></pre>

<h2 id="how-to-get-started">How to Get Started</h2>

<p>This section describes how to begin using Twig in your existing Magento
extension, and how to build your new Magento extension with Twig. Our reference
implementation is in the Mage/Catalog extension.</p>

<ul>
<li>
    <p>Start by looking at our sample implementation in Mage/Catalog. You will see
the changes that we made to layout.xml to use the new datasources and twig
templates in place of the previous .phtml and model files.</p>
  </li>
  <li>
    <p>Switching from an existing .phtml template to a twig file is as simple as
taking the contents of the phtml file, pasting the contents to a twig file
that you create in the same directory, and then removing the PHP code from
this file. You end up with just html markup in your new twig file.</p>
  </li>
  <li>
    <p>Using the original phtml file as a reference and the Service document
available in this repo, ensure that the data needed by the phtml file is
available in the necessary service. You might need to define a new service
as defined in the Service IDL write-up, <a href="http://praveenck.github.io/docs/service-idl/">here</a>.</p>
  </li>
</ul>
<h3 id="concrete-example">Concrete Example</h3>

<p>The Twig half of the aboveÂ <a href="#before-after">before and after comparison</a>Â shows the contents
ofÂ <code>app/code/Mage/Catalog/view/frontend/product/view/options/type/date.twig</code>.
You might ask yourself how the various variables used in this template are made
available to it. This section will try to show you how.</p>

<ul>
<li>
    <p>*option* (instance of Mage_Catalog_Model_Product_Option): This is
available to the block class associated with this template, i.e.
Mage_Catalog_Block_Product_View_Options_Type_Date. Any methods accessible to
the â€œoptionâ€ instance are callable within the template, such as
*isRequired*.</p>
  </li>
  <li>
    <p>*createBlock / getSelectFromToHtml / viewFileUrl*: These are defined as a
Twig function in Mage_Core_Block_Template_Engine_TwigExtension; the latter
is part of the template engine subsystem included with Magento 2.
Incidentally, this template engine subsystem is responsible for ensuring
that you can include a .phtml block as part of your twig template. This
makes it easy to gradually convert over to using Twig.</p>
  </li>
</ul>
<h3 id="warnings-and-gotchas">Warnings and Gotchas</h3>

<ul>
<li>
    <p>Twig uses its own cache, which currently is stored in the same directory as
the other Magento Twig caches. To manually clear, do the following:Â <code>rm -rf
var/cache/??</code>Â while in the Magento base directory.</p>
  </li>
  <li>
    <p>Twigâ€™s cache is controlled by the BLOCK_HTML cache setting in Magento Admin.
Thus, disabling the â€œBlocks HTML Outputâ€ cache in Admin-&gt;Cache Management
also disables the Twig cache. As you are most likely already aware, it is
always best to keep Magento caches turned off during development.</p>
  </li>
  <li>
    <p>Twigâ€™s performance is further improved if you use APC or some other PHP
bytecache scheme.</p>
  </li>
</ul>
<h2 id="conclusion">Conclusion</h2>

<p>We hope you can see some of the flexibility and power the use of Twig will bring
to your development efforts on Magento. Our aim is to make development fun for
you again by separating front-end design from back-end work and ensuring that
you are looking at clean, easy-to-read, and easy-to-debug code.</p>
      </div>

    <div id="js-sidebar" class="sidebar-shell">
      <div class="js-toggle-list sidebar-module expandable">
        <ul>
<li class="js-guides"><h3><a href="../">Overview</a></h3></li>
          <li class="js-guides"><h3><a href="./">Twig Templates</a></h3></li>
          <li class="js-guides"><h3><a href="../service-idl/">Service IDL</a></h3></li>
          <li class="js-guides"><h3><a href="../service-impl/">Service Implementation</a></h3></li>
          <li class="js-guides"><h3><a href="../webhooks/">Webhooks</a></h3></li>
          <li class="js-guides"><h3><a href="../web-api/">Creating Web APIs</a></h3></li>
          <li class="js-guides"><h3><a href="../option-list/">Extension Configuration</a></h3></li>
        </ul>
</div> <!-- /sidebar-module -->
    </div>
<!-- /sidebar-shell -->

    </div>
<!-- #wrapper -->

    <div id="footer">
      <div class="upper_footer">
        <div class="footer_inner clearfix">

        <!--[if IE]><h4 id="blacktocat_ie">GitHub Links</h4><![endif]-->
        <h4 id="blacktocat">GitHub Links</h4>

        <ul class="footer_nav">
<h4>GitHub</h4>
          <li><a href="https://github.com/about">About</a></li>
          <li><a href="https://github.com/blog">Blog</a></li>
          <li><a href="https://github.com/features">Features</a></li>
          <li><a href="https://github.com/contact">Contact &amp; Support</a></li>
          <li><a href="https://github.com/training">Training</a></li>
          <li><a href="http://status.github.com/">Site Status</a></li>
        </ul>
<ul class="footer_nav">
<h4>Tools</h4>
          <li><a href="http://mac.github.com/">GitHub for Mac</a></li>
          <li><a href="http://mobile.github.com/">Issues for iPhone</a></li>
          <li><a href="https://gist.github.com">Gist: Code Snippets</a></li>
          <li><a href="http://enterprise.github.com/">GitHub Enterprise</a></li>
          <li><a href="http://jobs.github.com/">Job Board</a></li>
        </ul>
<ul class="footer_nav">
<h4>Extras</h4>
          <li><a href="http://shop.github.com/">GitHub Shop</a></li>
          <li><a href="http://octodex.github.com/">The Octodex</a></li>
        </ul>
<ul class="footer_nav">
<h4>Documentation</h4>
          <li><a href="http://help.github.com/">GitHub Help</a></li>
          <li><a href="http://developer.github.com/">Developer API</a></li>
          <li><a href="http://github.github.com/github-flavored-markdown/">GitHub Flavored Markdown</a></li>
          <li><a href="http://pages.github.com/">GitHub Pages</a></li>
        </ul>
</div>
<!-- /.site -->
      </div>
<!-- /.upper_footer -->

      <div class="lower_footer">
        <div class="footer_inner clearfix">
            <div id="legal">
              <!--[if IE]><a class="home_ie" href="http://github.com">Home</a><![endif]-->
              <a class="home" href="http://github.com">Home</a>

              <ul id="legal_links">
<li><a href="http://help.github.com/terms-of-service/">Terms of Service</a></li>
                <li><a href="http://help.github.com/privacy-policy/">Privacy</a></li>
                <li><a href="http://help.github.com/security/">Security</a></li>
              </ul>
<p>Â© <span id="year">year</span> GitHub Inc. All rights reserved.</p>
            </div>
<!-- /#legal or /#legal_ie-->
        </div>
<!-- /.site -->
      </div>
<!-- /.lower_footer -->
    </div>
<!-- /#footer -->
    <script type="text/javascript">
      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '4f2038e0cb25bc1b55000003');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
</body>
</html>
;T;	I"¦Twig Templates
==============

This is a proposal to replace the .phtml templates used for earlier Magento
extensions with a templating engine called Twig.

The move to a templating engine will help enforce a desirable isolation of the
presentation layer from domain and business logic and data, which is a
fundamental goal of Extension Model Improvements. Current .phtml templates allow
inclusion of business logic and SQL queries within the presentation layer, which
can create serious challenges for maintenance and upgrades. We see the following
additional benefits from separating the presentation logic:

-   Theme switching becomes much easier and more predictable, because themes are
    confined to presentation logic and won't need to be disentangled from domain
    and business logic.

-   Theme and template security issues are much reduced, for the same reason.

-   Designers can change templates with more confidence--again, for the same
    reason.

About Twig
----------

We chose Twig because integrating it into Magento will give you the following
features and benefits:

-   Twig is concise. Gone are the days of the unavoidably messy .phtml files,
    since the page html is separate from the code that populates the page. See
    theÂ [before and after comparison][1]Â below to check out the difference.

-   The separation of front-end concerns from implementation concerns enables
    you to hire the best front-end designers while ensuring that your PHP
    developers work on what they do best.

-   Twig autoescapes by default, ensuring that your pages will avoid
    embarrassing mistakes that can happen if you forget to wrap output
    inÂ *htmlspecialchars*.

-   We haven't created extra work for you. Your existing PHP templates will
    continue working as expected but we hope the improvements offered by Twig
    will encourage you to switch soon.

Learn more aboutÂ [Twig][2].

[2]: <http://twig.sensiolabs.org/>

Twig vs. PHTML
--------------

-   Twig has cleaner code: you can focus on what your page does without needing
    to also parse the business logic embedded in the .phtml code

-   The separation of font-end concerns lets your front-end developer focus
    completely on page look-and-feel.

-   Twig is integrated with IDEs. Twig files are handled cleanly by IDEs,
    ensuring that your front-end developer is able to spot mistakes in this file
    with the help of the IDE instead of repeatedly running to code to see if
    anything is wrong. This will result in more productivity.

-   Twig's code intuitively makes sense. Compare the line â€œ\$this-\>__..â€ with
    â€œ..|translateâ€. Both of them do the same thing but the latter instantly
    tells you what is going on, while understanding the former will require a
    few lookups in code.

### Before and After

    [1]: <#before-after>

PHTML

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
<?php if ($this->canEmailToFriend()): ?>
  <p class="email-friend">
    <a href="<?php echo 
      $this->helper('Mage_Catalog_Helper_Product')
        ->getEmailToFriendUrl($_product) ?>">
      <?php echo $this->__('Email to a Friend') ?>
    </a>
  </p>
<?php endif; ?>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



Twig

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
{% if product.canEmailToFriend %}
  <p class="email-friend">
    <a href="{{ links.emailToFriend }}">
    {{ 'Email to a Friend'|translate }}
    </a>
  </p>
{% endif %}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



How to Get Started
------------------

This section describes how to begin using Twig in your existing Magento
extension, and how to build your new Magento extension with Twig. Our reference
implementation is in the Mage/Catalog extension.

-   Start by looking at our sample implementation in Mage/Catalog. You will see
    the changes that we made to layout.xml to use the new datasources and twig
    templates in place of the previous .phtml and model files.

-   Switching from an existing .phtml template to a twig file is as simple as
    taking the contents of the phtml file, pasting the contents to a twig file
    that you create in the same directory, and then removing the PHP code from
    this file. You end up with just html markup in your new twig file.

-   Using the original phtml file as a reference and the Service document
    available in this repo, ensure that the data needed by the phtml file is
    available in the necessary service. You might need to define a new service
    as defined in the Service IDL write-up, [here][8].

[8]: <http://praveenck.github.io/docs/service-idl/>

### Concrete Example

The Twig half of the aboveÂ [before and after comparison][1]Â shows the contents
ofÂ `app/code/Mage/Catalog/view/frontend/product/view/options/type/date.twig`.
You might ask yourself how the various variables used in this template are made
available to it. This section will try to show you how.

[1]: <#before-after>

-   \*option\* (instance of Mage_Catalog_Model_Product_Option): This is
    available to the block class associated with this template, i.e.
    Mage_Catalog_Block_Product_View_Options_Type_Date. Any methods accessible to
    the "option" instance are callable within the template, such as
    \*isRequired\*.

-   \*createBlock / getSelectFromToHtml / viewFileUrl\*: These are defined as a
    Twig function in Mage_Core_Block_Template_Engine_TwigExtension; the latter
    is part of the template engine subsystem included with Magento 2.
    Incidentally, this template engine subsystem is responsible for ensuring
    that you can include a .phtml block as part of your twig template. This
    makes it easy to gradually convert over to using Twig.

### Warnings and Gotchas

-   Twig uses its own cache, which currently is stored in the same directory as
    the other Magento Twig caches. To manually clear, do the following:Â `rm -rf
    var/cache/??`Â while in the Magento base directory.

-   Twig's cache is controlled by the BLOCK_HTML cache setting in Magento Admin.
    Thus, disabling the "Blocks HTML Output" cache in Admin-\>Cache Management
    also disables the Twig cache. As you are most likely already aware, it is
    always best to keep Magento caches turned off during development.

-   Twig's performance is further improved if you use APC or some other PHP
    bytecache scheme.

Conclusion
----------

We hope you can see some of the flexibility and power the use of Twig will bring
to your development efforts on Magento. Our aim is to make development fun for
you again by separating front-end design from back-end work and ensuring that
you are looking at clean, easy-to-read, and easy-to-debug code.
;T;
I"5<h1 id="twig-templates">Twig Templates</h1>

<p>This is a proposal to replace the .phtml templates used for earlier Magento
extensions with a templating engine called Twig.</p>

<p>The move to a templating engine will help enforce a desirable isolation of the
presentation layer from domain and business logic and data, which is a
fundamental goal of Extension Model Improvements. Current .phtml templates allow
inclusion of business logic and SQL queries within the presentation layer, which
can create serious challenges for maintenance and upgrades. We see the following
additional benefits from separating the presentation logic:</p>

<ul>
<li>
    <p>Theme switching becomes much easier and more predictable, because themes are
confined to presentation logic and wonâ€™t need to be disentangled from domain
and business logic.</p>
  </li>
  <li>
    <p>Theme and template security issues are much reduced, for the same reason.</p>
  </li>
  <li>
    <p>Designers can change templates with more confidenceâ€“again, for the same
reason.</p>
  </li>
</ul><h2 id="about-twig">About Twig</h2>

<p>We chose Twig because integrating it into Magento will give you the following
features and benefits:</p>

<ul>
<li>
    <p>Twig is concise. Gone are the days of the unavoidably messy .phtml files,
since the page html is separate from the code that populates the page. See
theÂ <a href="#before-after">before and after comparison</a>Â below to check out the difference.</p>
  </li>
  <li>
    <p>The separation of front-end concerns from implementation concerns enables
you to hire the best front-end designers while ensuring that your PHP
developers work on what they do best.</p>
  </li>
  <li>
    <p>Twig autoescapes by default, ensuring that your pages will avoid
embarrassing mistakes that can happen if you forget to wrap output
inÂ <em>htmlspecialchars</em>.</p>
  </li>
  <li>
    <p>We havenâ€™t created extra work for you. Your existing PHP templates will
continue working as expected but we hope the improvements offered by Twig
will encourage you to switch soon.</p>
  </li>
</ul><p>Learn more aboutÂ <a href="http://twig.sensiolabs.org/">Twig</a>.</p>

<h2 id="twig-vs-phtml">Twig vs. PHTML</h2>

<ul>
<li>
    <p>Twig has cleaner code: you can focus on what your page does without needing
to also parse the business logic embedded in the .phtml code</p>
  </li>
  <li>
    <p>The separation of font-end concerns lets your front-end developer focus
completely on page look-and-feel.</p>
  </li>
  <li>
    <p>Twig is integrated with IDEs. Twig files are handled cleanly by IDEs,
ensuring that your front-end developer is able to spot mistakes in this file
with the help of the IDE instead of repeatedly running to code to see if
anything is wrong. This will result in more productivity.</p>
  </li>
  <li>
    <p>Twigâ€™s code intuitively makes sense. Compare the line â€œ$this-&gt;__..â€ with
â€œ..|translateâ€. Both of them do the same thing but the latter instantly
tells you what is going on, while understanding the former will require a
few lookups in code.</p>
  </li>
</ul><h3 id="before-and-after">Before and After</h3>

<pre><code>[1]: &lt;#before-after&gt;
</code></pre>

<p>PHTML</p>

<pre><code>&lt;?php if ($this-&gt;canEmailToFriend()): ?&gt;
  &lt;p class="email-friend"&gt;
    &lt;a href="&lt;?php echo 
      $this-&gt;helper('Mage_Catalog_Helper_Product')
        -&gt;getEmailToFriendUrl($_product) ?&gt;"&gt;
      &lt;?php echo $this-&gt;__('Email to a Friend') ?&gt;
    &lt;/a&gt;
  &lt;/p&gt;
&lt;?php endif; ?&gt;
</code></pre>

<p>Twig</p>

<pre><code>{% if product.canEmailToFriend %}
  &lt;p class="email-friend"&gt;
    &lt;a href="{{ links.emailToFriend }}"&gt;
    {{ 'Email to a Friend'|translate }}
    &lt;/a&gt;
  &lt;/p&gt;
{% endif %}
</code></pre>

<h2 id="how-to-get-started">How to Get Started</h2>

<p>This section describes how to begin using Twig in your existing Magento
extension, and how to build your new Magento extension with Twig. Our reference
implementation is in the Mage/Catalog extension.</p>

<ul>
<li>
    <p>Start by looking at our sample implementation in Mage/Catalog. You will see
the changes that we made to layout.xml to use the new datasources and twig
templates in place of the previous .phtml and model files.</p>
  </li>
  <li>
    <p>Switching from an existing .phtml template to a twig file is as simple as
taking the contents of the phtml file, pasting the contents to a twig file
that you create in the same directory, and then removing the PHP code from
this file. You end up with just html markup in your new twig file.</p>
  </li>
  <li>
    <p>Using the original phtml file as a reference and the Service document
available in this repo, ensure that the data needed by the phtml file is
available in the necessary service. You might need to define a new service
as defined in the Service IDL write-up, <a href="http://praveenck.github.io/docs/service-idl/">here</a>.</p>
  </li>
</ul><h3 id="concrete-example">Concrete Example</h3>

<p>The Twig half of the aboveÂ <a href="#before-after">before and after comparison</a>Â shows the contents
ofÂ <code>app/code/Mage/Catalog/view/frontend/product/view/options/type/date.twig</code>.
You might ask yourself how the various variables used in this template are made
available to it. This section will try to show you how.</p>

<ul>
<li>
    <p>*option* (instance of Mage_Catalog_Model_Product_Option): This is
available to the block class associated with this template, i.e.
Mage_Catalog_Block_Product_View_Options_Type_Date. Any methods accessible to
the â€œoptionâ€ instance are callable within the template, such as
*isRequired*.</p>
  </li>
  <li>
    <p>*createBlock / getSelectFromToHtml / viewFileUrl*: These are defined as a
Twig function in Mage_Core_Block_Template_Engine_TwigExtension; the latter
is part of the template engine subsystem included with Magento 2.
Incidentally, this template engine subsystem is responsible for ensuring
that you can include a .phtml block as part of your twig template. This
makes it easy to gradually convert over to using Twig.</p>
  </li>
</ul><h3 id="warnings-and-gotchas">Warnings and Gotchas</h3>

<ul>
<li>
    <p>Twig uses its own cache, which currently is stored in the same directory as
the other Magento Twig caches. To manually clear, do the following:Â <code>rm -rf
var/cache/??</code>Â while in the Magento base directory.</p>
  </li>
  <li>
    <p>Twigâ€™s cache is controlled by the BLOCK_HTML cache setting in Magento Admin.
Thus, disabling the â€œBlocks HTML Outputâ€ cache in Admin-&gt;Cache Management
also disables the Twig cache. As you are most likely already aware, it is
always best to keep Magento caches turned off during development.</p>
  </li>
  <li>
    <p>Twigâ€™s performance is further improved if you use APC or some other PHP
bytecache scheme.</p>
  </li>
</ul><h2 id="conclusion">Conclusion</h2>

<p>We hope you can see some of the flexibility and power the use of Twig will bring
to your development efforts on Magento. Our aim is to make development fun for
you again by separating front-end design from back-end work and ensuring that
you are looking at clean, easy-to-read, and easy-to-debug code.</p>;T;@"I"/web-api/;T{;{	;I"þ<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="imagetoolbar" content="false">
<meta name="MSSmartTagsPreventParsing" content="true">
<title></title>
<link href="../css/reset.css" rel="stylesheet" type="text/css">
<link href="../css/960.css" rel="stylesheet" type="text/css">
<link href="../css/uv_active4d.css" rel="stylesheet" type="text/css">
<link href="../shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
<link href="../shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css">
<script src="../shared/js/jquery.js" type="text/javascript"></script><script src="../shared/js/documentation.js" type="text/javascript"></script>
</head>
<body class="api">
    <div id="header-wrapper">
      <div id="header">
        <div>
          <a class="logo" href="../"><img src="../images/logo_developer.png" width="161" height="47" alt="GitHub:Developer"></a>
          <ul class="nav">
<li><a href="../">Home</a></li>
            <li><a href="../vmimage">VM Image</a></li>
            <li><a href="https://getsatisfaction.com/magento-2-prerelease">Feedback</a></li>
          </ul>
</div>
      </div>
<!-- #header -->
    </div>
<!-- #header-wrapper -->

    <div id="wrapper">
      <div class="content">
    <h1 id="creating-web-apis">Creating Web APIs</h1>

<p>Once youâ€™ve created a service, you can expose its functionality over the web to
REST and SOAP interfaces by making simple web API declarations in the form of
annotations to a configuration file.</p>

<p>Note that in the current Alpha-1 release, this is a proposal only, and not yet
implemented. Please leave comments on this proposal on https://getsatisfaction.com/magento-2-prerelease/topics</p>

<p>To find out about creating a service, see <a href="http://praveenck.github.io/docs/service-impl/">Service Implementation</a>.</p>

<p>Some advantages of converting your service into a web API:</p>

<ul>
<li>
    <p>Authentication and authorization will be handled by the API framework,
allowing you to focus on building business logic</p>
  </li>
  <li>
    <p>Your serviceâ€™s business logic becomes available to the Magento web
application and also to other native applications (e.g., iOS and Android
apps).</p>
  </li>
</ul>
<h2 id="web-api-declaration">Web API Declaration</h2>

<p>We use a configuration file to expose services that use the IDL to REST and SOAP
interfaces.</p>

<p>For SOAP, we only need to declare the location of WSDL and the method. We can
default the WSDL location to the service name (e.g., shipping) and the SOAP
method to the PHP method (e.g., getCarriers).</p>

<p><strong>webapi.xml</strong></p>

<pre><code>
&lt;?xml version="1.0"?&gt;
&lt;webapi&gt;
Â Â Â Â &lt;service name="shipping"&gt;
Â Â Â Â Â Â Â Â &lt;rest-route method="GET" path="/shipping/carriers" call="getCarriers"&gt;
Â Â Â Â Â Â Â Â &lt;rest-route method="GET" path="/shipping/{shipment-id}" call="getOne"&gt;
Â Â Â Â Â Â Â Â &lt;rest-route method="GET" path="/shipping" call="getMany" query-params="sort,filter"&gt;
Â Â Â Â &lt;/service&gt;
&lt;/webapi&gt;

</code></pre>

<p>To expose your service as a REST API, there is an additional step. Because REST
doesnâ€™t pass all inputs in its payload, its payload does not reflect the
description in the XSD. Some inputs are passed as part of the path and query
parameters, and are thus missing from the payload. Deserializing the payload
would not result in the expected input associative array.</p>

<p>To form the expected array, after deserialization, we insert the missing inputs
into the array. We use the parameter name (e.g., shipment-id, filter) as a
matching key to map to query-params and path-params in the array, and we use
dotted notation to indicate levels in the array, as follows:</p>

<pre><code>
level1.level2.sort

('level1' =&gt; array (

Â Â Â Â 'level2' =&gt; array(

Â Â Â Â Â Â Â Â 'sort' =&gt; ....

Â Â Â Â )

))

</code></pre>
      </div>

    <div id="js-sidebar" class="sidebar-shell">
      <div class="js-toggle-list sidebar-module expandable">
        <ul>
<li class="js-guides"><h3><a href="../">Overview</a></h3></li>
          <li class="js-guides"><h3><a href="../twig/">Twig Templates</a></h3></li>
          <li class="js-guides"><h3><a href="../service-idl/">Service IDL</a></h3></li>
          <li class="js-guides"><h3><a href="../service-impl/">Service Implementation</a></h3></li>
          <li class="js-guides"><h3><a href="../webhooks/">Webhooks</a></h3></li>
          <li class="js-guides"><h3><a href="./">Creating Web APIs</a></h3></li>
          <li class="js-guides"><h3><a href="../option-list/">Extension Configuration</a></h3></li>
        </ul>
</div> <!-- /sidebar-module -->
    </div>
<!-- /sidebar-shell -->

    </div>
<!-- #wrapper -->

    <div id="footer">
      <div class="upper_footer">
        <div class="footer_inner clearfix">

        <!--[if IE]><h4 id="blacktocat_ie">GitHub Links</h4><![endif]-->
        <h4 id="blacktocat">GitHub Links</h4>

        <ul class="footer_nav">
<h4>GitHub</h4>
          <li><a href="https://github.com/about">About</a></li>
          <li><a href="https://github.com/blog">Blog</a></li>
          <li><a href="https://github.com/features">Features</a></li>
          <li><a href="https://github.com/contact">Contact &amp; Support</a></li>
          <li><a href="https://github.com/training">Training</a></li>
          <li><a href="http://status.github.com/">Site Status</a></li>
        </ul>
<ul class="footer_nav">
<h4>Tools</h4>
          <li><a href="http://mac.github.com/">GitHub for Mac</a></li>
          <li><a href="http://mobile.github.com/">Issues for iPhone</a></li>
          <li><a href="https://gist.github.com">Gist: Code Snippets</a></li>
          <li><a href="http://enterprise.github.com/">GitHub Enterprise</a></li>
          <li><a href="http://jobs.github.com/">Job Board</a></li>
        </ul>
<ul class="footer_nav">
<h4>Extras</h4>
          <li><a href="http://shop.github.com/">GitHub Shop</a></li>
          <li><a href="http://octodex.github.com/">The Octodex</a></li>
        </ul>
<ul class="footer_nav">
<h4>Documentation</h4>
          <li><a href="http://help.github.com/">GitHub Help</a></li>
          <li><a href="http://developer.github.com/">Developer API</a></li>
          <li><a href="http://github.github.com/github-flavored-markdown/">GitHub Flavored Markdown</a></li>
          <li><a href="http://pages.github.com/">GitHub Pages</a></li>
        </ul>
</div>
<!-- /.site -->
      </div>
<!-- /.upper_footer -->

      <div class="lower_footer">
        <div class="footer_inner clearfix">
            <div id="legal">
              <!--[if IE]><a class="home_ie" href="http://github.com">Home</a><![endif]-->
              <a class="home" href="http://github.com">Home</a>

              <ul id="legal_links">
<li><a href="http://help.github.com/terms-of-service/">Terms of Service</a></li>
                <li><a href="http://help.github.com/privacy-policy/">Privacy</a></li>
                <li><a href="http://help.github.com/security/">Security</a></li>
              </ul>
<p>Â© <span id="year">year</span> GitHub Inc. All rights reserved.</p>
            </div>
<!-- /#legal or /#legal_ie-->
        </div>
<!-- /.site -->
      </div>
<!-- /.lower_footer -->
    </div>
<!-- /#footer -->
    <script type="text/javascript">
      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '4f2038e0cb25bc1b55000003');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
</body>
</html>
;T;	I"¥
Creating Web APIs
=================

Once you've created a service, you can expose its functionality over the web to
REST and SOAP interfaces by making simple web API declarations in the form of
annotations to a configuration file.

Note that in the current Alpha-1 release, this is a proposal only, and not yet
implemented. Please leave comments on this proposal on https://getsatisfaction.com/magento-2-prerelease/topics

To find out about creating a service, see [Service Implementation][1].

[1]: <http://praveenck.github.io/docs/service-impl/>

Some advantages of converting your service into a web API:

-   Authentication and authorization will be handled by the API framework,
    allowing you to focus on building business logic

-   Your service's business logic becomes available to the Magento web
    application and also to other native applications (e.g., iOS and Android
    apps).

Web API Declaration
-------------------

We use a configuration file to expose services that use the IDL to REST and SOAP
interfaces.

For SOAP, we only need to declare the location of WSDL and the method. We can
default the WSDL location to the service name (e.g., shipping) and the SOAP
method to the PHP method (e.g., getCarriers).

**webapi.xml**

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

<?xml version="1.0"?>
<webapi>
Â Â Â Â <service name="shipping">
Â Â Â Â Â Â Â Â <rest-route method="GET" path="/shipping/carriers" call="getCarriers">
Â Â Â Â Â Â Â Â <rest-route method="GET" path="/shipping/{shipment-id}" call="getOne">
Â Â Â Â Â Â Â Â <rest-route method="GET" path="/shipping" call="getMany" query-params="sort,filter">
Â Â Â Â </service>
</webapi>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To expose your service as a REST API, there is an additional step. Because REST
doesn't pass all inputs in its payload, its payload does not reflect the
description in the XSD. Some inputs are passed as part of the path and query
parameters, and are thus missing from the payload. Deserializing the payload
would not result in the expected input associative array.

To form the expected array, after deserialization, we insert the missing inputs
into the array. We use the parameter name (e.g., shipment-id, filter) as a
matching key to map to query-params and path-params in the array, and we use
dotted notation to indicate levels in the array, as follows:

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

level1.level2.sort

('level1' => array (

Â Â Â Â 'level2' => array(

Â Â Â Â Â Â Â Â 'sort' => ....

Â Â Â Â )

))

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
;T;
I"`
<h1 id="creating-web-apis">Creating Web APIs</h1>

<p>Once youâ€™ve created a service, you can expose its functionality over the web to
REST and SOAP interfaces by making simple web API declarations in the form of
annotations to a configuration file.</p>

<p>Note that in the current Alpha-1 release, this is a proposal only, and not yet
implemented. Please leave comments on this proposal on https://getsatisfaction.com/magento-2-prerelease/topics</p>

<p>To find out about creating a service, see <a href="http://praveenck.github.io/docs/service-impl/">Service Implementation</a>.</p>

<p>Some advantages of converting your service into a web API:</p>

<ul>
<li>
    <p>Authentication and authorization will be handled by the API framework,
allowing you to focus on building business logic</p>
  </li>
  <li>
    <p>Your serviceâ€™s business logic becomes available to the Magento web
application and also to other native applications (e.g., iOS and Android
apps).</p>
  </li>
</ul><h2 id="web-api-declaration">Web API Declaration</h2>

<p>We use a configuration file to expose services that use the IDL to REST and SOAP
interfaces.</p>

<p>For SOAP, we only need to declare the location of WSDL and the method. We can
default the WSDL location to the service name (e.g., shipping) and the SOAP
method to the PHP method (e.g., getCarriers).</p>

<p><strong>webapi.xml</strong></p>

<pre><code>
&lt;?xml version="1.0"?&gt;
&lt;webapi&gt;
Â Â Â Â &lt;service name="shipping"&gt;
Â Â Â Â Â Â Â Â &lt;rest-route method="GET" path="/shipping/carriers" call="getCarriers"&gt;
Â Â Â Â Â Â Â Â &lt;rest-route method="GET" path="/shipping/{shipment-id}" call="getOne"&gt;
Â Â Â Â Â Â Â Â &lt;rest-route method="GET" path="/shipping" call="getMany" query-params="sort,filter"&gt;
Â Â Â Â &lt;/service&gt;
&lt;/webapi&gt;

</code></pre>

<p>To expose your service as a REST API, there is an additional step. Because REST
doesnâ€™t pass all inputs in its payload, its payload does not reflect the
description in the XSD. Some inputs are passed as part of the path and query
parameters, and are thus missing from the payload. Deserializing the payload
would not result in the expected input associative array.</p>

<p>To form the expected array, after deserialization, we insert the missing inputs
into the array. We use the parameter name (e.g., shipment-id, filter) as a
matching key to map to query-params and path-params in the array, and we use
dotted notation to indicate levels in the array, as follows:</p>

<pre><code>
level1.level2.sort

('level1' =&gt; array (

Â Â Â Â 'level2' =&gt; array(

Â Â Â Â Â Â Â Â 'sort' =&gt; ....

Â Â Â Â )

))

</code></pre>;T;@(I"/static/css/960.css/;T{;{ I"/static/css/reset.css/;T{;{ I"!/static/css/uv_active4d.css/;T{;{ I"/static/favicon.ico/;T{;{ I"&/static/images/background-v2.png/;T{;{ I")/static/images/background-white.png/;T{;{ I"'/static/images/logo_developer.png/;T{;{ I"!/static/images/nav-rule.png/;T{;{ I"*/static/shared/css/documentation.css/;T{;{ I"%/static/shared/css/pygments.css/;T{;{ I",/static/shared/images/active-arrow.png/;T{;{ I"-/static/shared/images/background-v2.png/;T{;{ I"0/static/shared/images/background-white.png/;T{;{ I""/static/shared/images/bg.png/;T{;{ I"0/static/shared/images/bg_footer_bottom.png/;T{;{ I"-/static/shared/images/bg_footer_top.png/;T{;{ I"*/static/shared/images/blacktocat.png/;T{;{ I"*/static/shared/images/blacktocat.svg/;T{;{ I"+/static/shared/images/crud-sprite.png/;T{;{ I"0/static/shared/images/dropdown_sprites.jpg/;T{;{ I"-/static/shared/images/expand-arrows.png/;T{;{ I"+/static/shared/images/footer-logo.png/;T{;{ I"+/static/shared/images/footer-logo.svg/;T{;{ I"+/static/shared/images/footer_logo.png/;T{;{ I"(/static/shared/images/nav-rule.png/;T{;{ I"//static/shared/images/next_step_arrow.gif/;T{;{ I"%/static/shared/images/qmark.png/;T{;{ I"./static/shared/images/rackspace_logo.png/;T{;{ I"(/static/shared/js/documentation.js/;T{;{ I"!/static/shared/js/jquery.js/;T{;{ I" /static/images/ExtArch.jpg/;T{;{ I"4/static/shared/images/background-white-old.png/;T{;{ I" /static/images/ExtArch.png/;T{;{ I"*/static/images/archExtensibility.png/;T{;{ I"/webhooks/;T{;{	;I"à<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="imagetoolbar" content="false">
<meta name="MSSmartTagsPreventParsing" content="true">
<title>Webhooks</title>
<link href="../css/reset.css" rel="stylesheet" type="text/css">
<link href="../css/960.css" rel="stylesheet" type="text/css">
<link href="../css/uv_active4d.css" rel="stylesheet" type="text/css">
<link href="../shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
<link href="../shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css">
<script src="../shared/js/jquery.js" type="text/javascript"></script><script src="../shared/js/documentation.js" type="text/javascript"></script>
</head>
<body class="api">
    <div id="header-wrapper">
      <div id="header">
        <div>
          <a class="logo" href="../"><img src="../images/logo_developer.png" width="161" height="47" alt="GitHub:Developer"></a>
          <ul class="nav">
<li><a href="../">Home</a></li>
            <li><a href="../vmimage">VM Image</a></li>
            <li><a href="https://getsatisfaction.com/magento-2-prerelease">Feedback</a></li>
          </ul>
</div>
      </div>
<!-- #header -->
    </div>
<!-- #header-wrapper -->

    <div id="wrapper">
      <div class="content">
    <h1 id="webhooks---coming-soon">Webhooks - Coming Soon!</h1>
      </div>

    <div id="js-sidebar" class="sidebar-shell">
      <div class="js-toggle-list sidebar-module expandable">
        <ul>
<li class="js-guides"><h3><a href="../">Overview</a></h3></li>
          <li class="js-guides"><h3><a href="../twig/">Twig Templates</a></h3></li>
          <li class="js-guides"><h3><a href="../service-idl/">Service IDL</a></h3></li>
          <li class="js-guides"><h3><a href="../service-impl/">Service Implementation</a></h3></li>
          <li class="js-guides"><h3><a href="./">Webhooks</a></h3></li>
          <li class="js-guides"><h3><a href="../web-api/">Creating Web APIs</a></h3></li>
          <li class="js-guides"><h3><a href="../option-list/">Extension Configuration</a></h3></li>
        </ul>
</div> <!-- /sidebar-module -->
    </div>
<!-- /sidebar-shell -->

    </div>
<!-- #wrapper -->

    <div id="footer">
      <div class="upper_footer">
        <div class="footer_inner clearfix">

        <!--[if IE]><h4 id="blacktocat_ie">GitHub Links</h4><![endif]-->
        <h4 id="blacktocat">GitHub Links</h4>

        <ul class="footer_nav">
<h4>GitHub</h4>
          <li><a href="https://github.com/about">About</a></li>
          <li><a href="https://github.com/blog">Blog</a></li>
          <li><a href="https://github.com/features">Features</a></li>
          <li><a href="https://github.com/contact">Contact &amp; Support</a></li>
          <li><a href="https://github.com/training">Training</a></li>
          <li><a href="http://status.github.com/">Site Status</a></li>
        </ul>
<ul class="footer_nav">
<h4>Tools</h4>
          <li><a href="http://mac.github.com/">GitHub for Mac</a></li>
          <li><a href="http://mobile.github.com/">Issues for iPhone</a></li>
          <li><a href="https://gist.github.com">Gist: Code Snippets</a></li>
          <li><a href="http://enterprise.github.com/">GitHub Enterprise</a></li>
          <li><a href="http://jobs.github.com/">Job Board</a></li>
        </ul>
<ul class="footer_nav">
<h4>Extras</h4>
          <li><a href="http://shop.github.com/">GitHub Shop</a></li>
          <li><a href="http://octodex.github.com/">The Octodex</a></li>
        </ul>
<ul class="footer_nav">
<h4>Documentation</h4>
          <li><a href="http://help.github.com/">GitHub Help</a></li>
          <li><a href="http://developer.github.com/">Developer API</a></li>
          <li><a href="http://github.github.com/github-flavored-markdown/">GitHub Flavored Markdown</a></li>
          <li><a href="http://pages.github.com/">GitHub Pages</a></li>
        </ul>
</div>
<!-- /.site -->
      </div>
<!-- /.upper_footer -->

      <div class="lower_footer">
        <div class="footer_inner clearfix">
            <div id="legal">
              <!--[if IE]><a class="home_ie" href="http://github.com">Home</a><![endif]-->
              <a class="home" href="http://github.com">Home</a>

              <ul id="legal_links">
<li><a href="http://help.github.com/terms-of-service/">Terms of Service</a></li>
                <li><a href="http://help.github.com/privacy-policy/">Privacy</a></li>
                <li><a href="http://help.github.com/security/">Security</a></li>
              </ul>
<p>Â© <span id="year">year</span> GitHub Inc. All rights reserved.</p>
            </div>
<!-- /#legal or /#legal_ie-->
        </div>
<!-- /.site -->
      </div>
<!-- /.lower_footer -->
    </div>
<!-- /#footer -->
    <script type="text/javascript">
      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '4f2038e0cb25bc1b55000003');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
</body>
</html>
;T;	I"# Webhooks - Coming Soon!;T;
I"A<h1 id="webhooks---coming-soon">Webhooks - Coming Soon!</h1>;T;@I"/vmimage/;T{;{	;I"Ã&<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="imagetoolbar" content="false">
<meta name="MSSmartTagsPreventParsing" content="true">
<title></title>
<link href="../css/reset.css" rel="stylesheet" type="text/css">
<link href="../css/960.css" rel="stylesheet" type="text/css">
<link href="../css/uv_active4d.css" rel="stylesheet" type="text/css">
<link href="../shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
<link href="../shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css">
<script src="../shared/js/jquery.js" type="text/javascript"></script><script src="../shared/js/documentation.js" type="text/javascript"></script>
</head>
<body class="api">
    <div id="header-wrapper">
      <div id="header">
        <div>
          <a class="logo" href="../"><img src="../images/logo_developer.png" width="161" height="47" alt="GitHub:Developer"></a>
          <ul class="nav">
<li><a href="../">Home</a></li>
            <li><a href=".">VM Image</a></li>
            <li><a href="https://getsatisfaction.com/magento-2-prerelease">Feedback</a></li>
          </ul>
</div>
      </div>
<!-- #header -->
    </div>
<!-- #header-wrapper -->

    <div id="wrapper">
      <div class="content">
    <h1 id="setting-up-magento-2-extension-model-alpha-1-vm-image">Setting up Magento 2 Extension Model Alpha 1 VM Image</h1>

<p>This document describes the steps to download and install a VirtualBox image containing the Magento 2 Extension Model Improvements (Alpha 1). For an overview of the proposed improvements, please refer to the documentation <a href="http://magento.github.io/magento2-developer-docs/">here</a>.</p>

<h2 id="download">Download</h2>

<p>Download the ova file by clicking on the link below and save it to the disk. If you do not have virtual box installed, please refer to <a href="https://www.virtualbox.org/wiki/Downloads">this link</a> for download and installation instructions.</p>

<p><a href="https://ebay.box.com/s/a2k6twcsoappu4zv5lsq">Magento 2 Extension Model Improvements (Alpha 1)</a></p>

<h2 id="starting-vm">Starting VM</h2>

<p>Start the virtual box application. Import the VM image by clicking on File-&gt;Import Appliance menu option. Click on â€œOpen Applianceâ€ button and browse to the location where you saved the .ova file. Select the ova file and click open. Continue to the next screen and click on import. Once the import is complete, the virtual appliance is displayed in the list of appliances on the left sidebar as magento2_2.</p>

<p>To start the VM, select the magento2_2 VM and click on the start button. Once it comes up you will be presented with a gui login. You can use this or you can ssh directly into the machine via PuTTY or similar tool.</p>

<h3 id="edit-your-hosts-file">Edit your hosts file</h3>

<p>Be sure to edit your local hosts file to add an entry for this vm as shown below. You will be able to hit this http://magento.local url after this in your local machineâ€™s browser to finish the magento install.</p>

<pre>
192.168.56.101 magento.local
</pre>

<h2 id="login-details">Login details</h2>

<p>The ip address of the VM is <b>192.168.56.101</b> and below logins will work via ssh</p>

<h3 id="linux-user-accounts">Linux User Accounts</h3>

<p>Following are the user accounts for linux login via GUI and ssh.</p>

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> <b> Username </b> </th>
<th style="border:1px solid black;"> <b> Password </b> </th>
<th style="border:1px solid black;"> <b> Has Root Access </b> </th>
<th style="border:1px solid black;"> <b> Login via GUI </b> </th>
</tr>
<tr>
<td style="border:1px solid black;"> mage </td>
<td style="border:1px solid black;"> 123456 </td>
<td style="border:1px solid black;"> via sudo </td>
<td style="border:1px solid black;"> yes </td>
</tr>
<tr>
<td style="border:1px solid black;"> root </td>
<td style="border:1px solid black;"> 123456 </td>
<td style="border:1px solid black;"> yes </td>
<td style="border:1px solid black;"> no </td>
</tr>
</table>
<h3 id="mysql-accounts">Mysql Accounts</h3>

<p>You can use mysql workbench to connect to the mysql server, just specify the ip address of the vm and one of the below accounts</p>

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> <b> Username </b> </th>
<th style="border:1px solid black;"> <b> Password </b> </th>
<th style="border:1px solid black;"> <b> Remote Login </b> </th>
<th style="border:1px solid black;"> <b> Database </b> </th>
</tr>
<tr>
<td style="border:1px solid black;"> magento2 </td>
<td style="border:1px solid black;"> magento2 </td>
<td style="border:1px solid black;"> yes </td>
<td style="border:1px solid black;"> magento2 </td>
</tr>
<tr>
<td style="border:1px solid black;"> root </td>
<td style="border:1px solid black;"> 123456 </td>
<td style="border:1px solid black;"> yes </td>
<td style="border:1px solid black;"> All Dbs </td>
</tr>
</table>
<h3 id="magento-admin-account">Magento Admin Account</h3>

<p>Following are the admin accounts for accessing Magento admin (backend)</p>

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> <b> Username </b> </th>
<th style="border:1px solid black;"> <b> Password </b> </th>
</tr>
<tr>
<td style="border:1px solid black;"> magento2 </td>
<td style="border:1px solid black;"> magento2 </td>
</tr>
</table>
<h2 id="magento2-install">Magento2 install</h2>

<p>Magento is already installed at /var/mage/magento2. A snapshot of magento2 code containing the Extension Model imrpovements is already there. To access Magento Frontend use http://magento.local and for Magento admin (backend), use http://magento.local/index.php/backend/admin. There already is a mysql server running on the vm with a magento2 database.</p>
      </div>

    <div id="js-sidebar" class="sidebar-shell">
      <div class="js-toggle-list sidebar-module expandable">
        <ul>
<li class="js-guides"><h3><a href="../">Overview</a></h3></li>
          <li class="js-guides"><h3><a href="../twig/">Twig Templates</a></h3></li>
          <li class="js-guides"><h3><a href="../service-idl/">Service IDL</a></h3></li>
          <li class="js-guides"><h3><a href="../service-impl/">Service Implementation</a></h3></li>
          <li class="js-guides"><h3><a href="../webhooks/">Webhooks</a></h3></li>
          <li class="js-guides"><h3><a href="../web-api/">Creating Web APIs</a></h3></li>
          <li class="js-guides"><h3><a href="../option-list/">Extension Configuration</a></h3></li>
        </ul>
</div> <!-- /sidebar-module -->
    </div>
<!-- /sidebar-shell -->

    </div>
<!-- #wrapper -->

    <div id="footer">
      <div class="upper_footer">
        <div class="footer_inner clearfix">

        <!--[if IE]><h4 id="blacktocat_ie">GitHub Links</h4><![endif]-->
        <h4 id="blacktocat">GitHub Links</h4>

        <ul class="footer_nav">
<h4>GitHub</h4>
          <li><a href="https://github.com/about">About</a></li>
          <li><a href="https://github.com/blog">Blog</a></li>
          <li><a href="https://github.com/features">Features</a></li>
          <li><a href="https://github.com/contact">Contact &amp; Support</a></li>
          <li><a href="https://github.com/training">Training</a></li>
          <li><a href="http://status.github.com/">Site Status</a></li>
        </ul>
<ul class="footer_nav">
<h4>Tools</h4>
          <li><a href="http://mac.github.com/">GitHub for Mac</a></li>
          <li><a href="http://mobile.github.com/">Issues for iPhone</a></li>
          <li><a href="https://gist.github.com">Gist: Code Snippets</a></li>
          <li><a href="http://enterprise.github.com/">GitHub Enterprise</a></li>
          <li><a href="http://jobs.github.com/">Job Board</a></li>
        </ul>
<ul class="footer_nav">
<h4>Extras</h4>
          <li><a href="http://shop.github.com/">GitHub Shop</a></li>
          <li><a href="http://octodex.github.com/">The Octodex</a></li>
        </ul>
<ul class="footer_nav">
<h4>Documentation</h4>
          <li><a href="http://help.github.com/">GitHub Help</a></li>
          <li><a href="http://developer.github.com/">Developer API</a></li>
          <li><a href="http://github.github.com/github-flavored-markdown/">GitHub Flavored Markdown</a></li>
          <li><a href="http://pages.github.com/">GitHub Pages</a></li>
        </ul>
</div>
<!-- /.site -->
      </div>
<!-- /.upper_footer -->

      <div class="lower_footer">
        <div class="footer_inner clearfix">
            <div id="legal">
              <!--[if IE]><a class="home_ie" href="http://github.com">Home</a><![endif]-->
              <a class="home" href="http://github.com">Home</a>

              <ul id="legal_links">
<li><a href="http://help.github.com/terms-of-service/">Terms of Service</a></li>
                <li><a href="http://help.github.com/privacy-policy/">Privacy</a></li>
                <li><a href="http://help.github.com/security/">Security</a></li>
              </ul>
<p>Â© <span id="year">year</span> GitHub Inc. All rights reserved.</p>
            </div>
<!-- /#legal or /#legal_ie-->
        </div>
<!-- /.site -->
      </div>
<!-- /.lower_footer -->
    </div>
<!-- /#footer -->
    <script type="text/javascript">
      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '4f2038e0cb25bc1b55000003');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
</body>
</html>
;T;	I"Setting up Magento 2 Extension Model Alpha 1 VM Image
=====================================================

This document describes the steps to download and install a VirtualBox image containing the Magento 2 Extension Model Improvements (Alpha 1). For an overview of the proposed improvements, please refer to the documentation [here][1].

[1]: <http://magento.github.io/magento2-developer-docs/>

Download
--------

Download the ova file by clicking on the link below and save it to the disk. If you do not have virtual box installed, please refer to [this link][3] for download and installation instructions.

[Magento 2 Extension Model Improvements (Alpha 1)][2]

[2]: <https://ebay.box.com/s/a2k6twcsoappu4zv5lsq>
[3]: <https://www.virtualbox.org/wiki/Downloads>

Starting VM
--------

Start the virtual box application. Import the VM image by clicking on File->Import Appliance menu option. Click on "Open Appliance" button and browse to the location where you saved the .ova file. Select the ova file and click open. Continue to the next screen and click on import. Once the import is complete, the virtual appliance is displayed in the list of appliances on the left sidebar as magento2_2.

To start the VM, select the magento2_2 VM and click on the start button. Once it comes up you will be presented with a gui login. You can use this or you can ssh directly into the machine via PuTTY or similar tool.

### Edit your hosts file

Be sure to edit your local hosts file to add an entry for this vm as shown below. You will be able to hit this http://magento.local url after this in your local machine's browser to finish the magento install.

<pre>
192.168.56.101 magento.local
</pre>

Login details
--------

The ip address of the VM is <b>192.168.56.101</b> and below logins will work via ssh

### Linux User Accounts

Following are the user accounts for linux login via GUI and ssh.

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> <b> Username </b> </th>
<th style="border:1px solid black;"> <b> Password </b> </th>
<th style="border:1px solid black;"> <b> Has Root Access </b> </th>
<th style="border:1px solid black;"> <b> Login via GUI </b> </th>
</tr>
<tr>
<td style="border:1px solid black;"> mage </td>
<td style="border:1px solid black;"> 123456 </td>
<td style="border:1px solid black;"> via sudo </td>
<td style="border:1px solid black;"> yes </td>
</tr>
<tr>
<td style="border:1px solid black;"> root </td>
<td style="border:1px solid black;"> 123456 </td>
<td style="border:1px solid black;"> yes </td>
<td style="border:1px solid black;"> no </td>
</tr>
</table>

### Mysql Accounts

You can use mysql workbench to connect to the mysql server, just specify the ip address of the vm and one of the below accounts

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> <b> Username </b> </th>
<th style="border:1px solid black;"> <b> Password </b> </th>
<th style="border:1px solid black;"> <b> Remote Login </b> </th>
<th style="border:1px solid black;"> <b> Database </b> </th>
</tr>
<tr>
<td style="border:1px solid black;"> magento2 </td>
<td style="border:1px solid black;"> magento2 </td>
<td style="border:1px solid black;"> yes </td>
<td style="border:1px solid black;"> magento2 </td>
</tr>
<tr>
<td style="border:1px solid black;"> root </td>
<td style="border:1px solid black;"> 123456 </td>
<td style="border:1px solid black;"> yes </td>
<td style="border:1px solid black;"> All Dbs </td>
</tr>
</table>



### Magento Admin Account

Following are the admin accounts for accessing Magento admin (backend)

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> <b> Username </b> </th>
<th style="border:1px solid black;"> <b> Password </b> </th>
</tr>
<tr>
<td style="border:1px solid black;"> magento2 </td>
<td style="border:1px solid black;"> magento2 </td>
</tr>
</table>

Magento2 install
--------

Magento is already installed at /var/mage/magento2. A snapshot of magento2 code containing the Extension Model imrpovements is already there. To access Magento Frontend use http://magento.local and for Magento admin (backend), use http://magento.local/index.php/backend/admin. There already is a mysql server running on the vm with a magento2 database.
;T;
I"#<h1 id="setting-up-magento-2-extension-model-alpha-1-vm-image">Setting up Magento 2 Extension Model Alpha 1 VM Image</h1>

<p>This document describes the steps to download and install a VirtualBox image containing the Magento 2 Extension Model Improvements (Alpha 1). For an overview of the proposed improvements, please refer to the documentation <a href="http://magento.github.io/magento2-developer-docs/">here</a>.</p>

<h2 id="download">Download</h2>

<p>Download the ova file by clicking on the link below and save it to the disk. If you do not have virtual box installed, please refer to <a href="https://www.virtualbox.org/wiki/Downloads">this link</a> for download and installation instructions.</p>

<p><a href="https://ebay.box.com/s/a2k6twcsoappu4zv5lsq">Magento 2 Extension Model Improvements (Alpha 1)</a></p>

<h2 id="starting-vm">Starting VM</h2>

<p>Start the virtual box application. Import the VM image by clicking on File-&gt;Import Appliance menu option. Click on â€œOpen Applianceâ€ button and browse to the location where you saved the .ova file. Select the ova file and click open. Continue to the next screen and click on import. Once the import is complete, the virtual appliance is displayed in the list of appliances on the left sidebar as magento2_2.</p>

<p>To start the VM, select the magento2_2 VM and click on the start button. Once it comes up you will be presented with a gui login. You can use this or you can ssh directly into the machine via PuTTY or similar tool.</p>

<h3 id="edit-your-hosts-file">Edit your hosts file</h3>

<p>Be sure to edit your local hosts file to add an entry for this vm as shown below. You will be able to hit this http://magento.local url after this in your local machineâ€™s browser to finish the magento install.</p>

<pre>
192.168.56.101 magento.local
</pre>

<h2 id="login-details">Login details</h2>

<p>The ip address of the VM is <b>192.168.56.101</b> and below logins will work via ssh</p>

<h3 id="linux-user-accounts">Linux User Accounts</h3>

<p>Following are the user accounts for linux login via GUI and ssh.</p>

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> <b> Username </b> </th>
<th style="border:1px solid black;"> <b> Password </b> </th>
<th style="border:1px solid black;"> <b> Has Root Access </b> </th>
<th style="border:1px solid black;"> <b> Login via GUI </b> </th>
</tr>
<tr>
<td style="border:1px solid black;"> mage </td>
<td style="border:1px solid black;"> 123456 </td>
<td style="border:1px solid black;"> via sudo </td>
<td style="border:1px solid black;"> yes </td>
</tr>
<tr>
<td style="border:1px solid black;"> root </td>
<td style="border:1px solid black;"> 123456 </td>
<td style="border:1px solid black;"> yes </td>
<td style="border:1px solid black;"> no </td>
</tr>
</table><h3 id="mysql-accounts">Mysql Accounts</h3>

<p>You can use mysql workbench to connect to the mysql server, just specify the ip address of the vm and one of the below accounts</p>

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> <b> Username </b> </th>
<th style="border:1px solid black;"> <b> Password </b> </th>
<th style="border:1px solid black;"> <b> Remote Login </b> </th>
<th style="border:1px solid black;"> <b> Database </b> </th>
</tr>
<tr>
<td style="border:1px solid black;"> magento2 </td>
<td style="border:1px solid black;"> magento2 </td>
<td style="border:1px solid black;"> yes </td>
<td style="border:1px solid black;"> magento2 </td>
</tr>
<tr>
<td style="border:1px solid black;"> root </td>
<td style="border:1px solid black;"> 123456 </td>
<td style="border:1px solid black;"> yes </td>
<td style="border:1px solid black;"> All Dbs </td>
</tr>
</table><h3 id="magento-admin-account">Magento Admin Account</h3>

<p>Following are the admin accounts for accessing Magento admin (backend)</p>

<table style="border:1px solid black;border-collapse:collapse;">
<tr>
<th style="border:1px solid black;"> <b> Username </b> </th>
<th style="border:1px solid black;"> <b> Password </b> </th>
</tr>
<tr>
<td style="border:1px solid black;"> magento2 </td>
<td style="border:1px solid black;"> magento2 </td>
</tr>
</table><h2 id="magento2-install">Magento2 install</h2>

<p>Magento is already installed at /var/mage/magento2. A snapshot of magento2 code containing the Extension Model imrpovements is already there. To access Magento Frontend use http://magento.local and for Magento admin (backend), use http://magento.local/index.php/backend/admin. There already is a mysql server running on the vm with a magento2 database.</p>;T;@•:versioni